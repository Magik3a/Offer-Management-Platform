{"version":3,"file":"serenity-widget.js","sourceRoot":"","sources":["../../CoreLib/Types/Decorators.ts","../../CoreLib/Types/IDialog.ts","../../CoreLib/Types/IEditDialog.ts","../../CoreLib/Types/IBooleanValue.ts","../../CoreLib/Types/IDoubleValue.ts","../../CoreLib/Types/IStringValue.ts","../../CoreLib/Types/IGetEditValue.ts","../../CoreLib/Types/ISetEditValue.ts","../../CoreLib/Types/IReadOnly.ts","../../CoreLib/Types/IValidateRequired.ts","../../CoreLib/Types/CaptureOperationType.ts","../../CoreLib/Types/DataChangeInfo.ts","../../CoreLib/Types/DialogTypeRegistry.ts","../../CoreLib/Types/EditorTypeRegistry.ts","../../CoreLib/Types/EnumTypeRegistry.ts","../../CoreLib/Types/ReflectionUtils.ts","../../CoreLib/UI/Widgets/CreateWidgetParams.ts","../../CoreLib/UI/Widgets/Widget.ts","../../CoreLib/UI/Widgets/TemplatedWidget.ts","../../CoreLib/UI/Editors/CascadedWidgetLink.ts","../../CoreLib/UI/Helpers/UploadHelper.ts","../../CoreLib/UI/Widgets/Toolbar.ts","../../CoreLib/UI/Editors/EditorUtils.ts","../../CoreLib/UI/Helpers/LazyLoadHelper.ts","../../CoreLib/UI/Helpers/SubDialogHelper.ts","../../CoreLib/UI/Widgets/PrefixedContext.ts","../../CoreLib/Imports/jQueryUIFixes.ts"],"names":[],"mappings":"AAAA,IAAU,QAAQ,CAgHjB;AAhHD,WAAU,QAAQ;IAEd,IAAiB,UAAU,CA6D1B;IA7DD,WAAiB,UAAU;QACvB,SAAS,QAAQ,CAAC,GAAU;YACxB,OAAO,GAAG,CAAC,MAAM,CAAC,UAAC,IAAI,EAAE,GAAG,IAAK,OAAA,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,GAAG,EAAzB,CAAyB,CAAC,CAAC;QAChE,CAAC;QAED,SAAS,KAAK,CAAC,IAAW,EAAE,IAAW;YACnC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI;gBACd,OAAO,CAAC,IAAI,IAAI,IAAI,IAAI,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;YAExC,OAAO,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QACvC,CAAC;QAED,SAAS,YAAY,CAAC,MAAW,EAAE,IAAY,EAAE,IAAW;YACxD,IAAI,IAAI,IAAI,IAAI,EAAE;gBACd,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC;gBACzB,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC;aAC1B;iBACI,IAAI,CAAC,MAAM,CAAC,UAAU;gBACvB,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC;;gBAEzB,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,MAAM,CAAC;YAExC,IAAI,IAAI;gBACJ,MAAM,CAAC,YAAY,GAAG,KAAK,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;QAC/D,CAAC;QAED,SAAgB,aAAa,CAAC,UAA2B,EAAE,KAAa;YACpE,OAAO,UAAU,MAAgB;gBAC7B,IAAI,OAAO,UAAU,IAAI,QAAQ;oBAC7B,YAAY,CAAC,MAAM,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;;oBAExC,YAAY,CAAC,MAAM,EAAE,IAAI,EAAE,UAAU,CAAC,CAAC;gBAE1C,MAAc,CAAC,OAAO,GAAG,IAAI,CAAC;YACnC,CAAC,CAAA;QACL,CAAC;QATe,wBAAa,gBAS5B,CAAA;QAED,SAAgB,iBAAiB,CAAC,UAA2B,EAAE,KAAa;YACxE,OAAO,UAAU,MAAgB;gBAE7B,IAAI,OAAO,UAAU,IAAI,QAAQ;oBAC7B,YAAY,CAAC,MAAM,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;;oBAExC,YAAY,CAAC,MAAM,EAAE,IAAI,EAAE,UAAU,CAAC,CAAC;gBAE1C,MAAc,CAAC,WAAW,GAAG,IAAI,CAAC;gBAClC,MAAc,CAAC,gBAAgB,GAAG,UAAU,IAAS;oBAClD,OAAO,IAAI,CAAC,YAAY,IAAI,IAAI,IAAI,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC7E,CAAC,CAAC;YACN,CAAC,CAAA;QACL,CAAC;QAbe,4BAAiB,oBAahC,CAAA;QAED,SAAgB,cAAc,CAAC,UAA2B,EAAE,KAAa;YACrE,OAAO,aAAa,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;QAC5C,CAAC;QAFe,yBAAc,iBAE7B,CAAA;QAED,SAAgB,YAAY,CAAC,IAAS,EAAE,IAAS;YAC7C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,EAAE,CAAC;YACxC,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,IAAI,EAAE,CAAC;YAClD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACpC,CAAC;QAJe,uBAAY,eAI3B,CAAA;IACL,CAAC,EA7DgB,UAAU,GAAV,mBAAU,KAAV,mBAAU,QA6D1B;IAED,QAAQ,CAAC,UAAU,CAAC,iBAAiB,CAAC,0BAA0B,CAAC,CAAC,SAAA,eAAe,CAAC,CAAC;IAGnF;QACI,0BAAmB,KAAa;YAAb,UAAK,GAAL,KAAK,CAAQ;QAChC,CAAC;QAFQ,gBAAgB;YAD5B,QAAQ,CAAC,UAAU,CAAC,aAAa,CAAC,2BAA2B,CAAC;WAClD,gBAAgB,CAG5B;QAAD,uBAAC;KAAA,AAHD,IAGC;IAHY,yBAAgB,mBAG5B,CAAA;IAED,WAAiB,UAAU;QAEvB,SAAgB,OAAO,CAAC,KAAa;YACjC,OAAO,UAAU,MAAgB;gBAC7B,WAAA,YAAY,CAAC,MAAM,EAAE,IAAI,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC;YACtD,CAAC,CAAA;QACL,CAAC;QAJe,kBAAO,UAItB,CAAA;QAED,SAAgB,YAAY,CAAC,MAAW,EAAE,OAAgB,EAAE,IAAa;YACrE,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;gBAChB,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,QAAQ,EAAE;oBACpC,GAAG,EAAE;wBACD,OAAO,IAAI,CAAC;oBAChB,CAAC;iBACJ,CAAC,CAAC;gBAEH,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,IAAI,EAAE,CAAC;gBAC1C,KAAc,UAAmB,EAAnB,KAAA,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,EAAnB,cAAmB,EAAnB,IAAmB;oBAA5B,IAAI,CAAC,SAAA;oBACN,IAAI,KAAK,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;wBAClF,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;iBAAA;gBAExC,IAAI,IAAI,IAAI,IAAI,EAAE;oBACd,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC;oBACzB,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC;iBAC1B;qBACI,IAAI,CAAC,MAAM,CAAC,UAAU;oBACvB,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC;gBAE7B,IAAI,OAAO;oBACP,WAAA,YAAY,CAAC,MAAM,EAAE,IAAI,gBAAgB,CAAC,OAAO,CAAC,CAAC,CAAC;aAC3D;QACL,CAAC;QAvBe,uBAAY,eAuB3B,CAAA;QAED,SAAgB,gBAAgB,CAAC,MAAW,EAAE,IAAa,EAAE,OAAgB;YACzE,YAAY,CAAC,MAAM,EAAE,CAAC,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;QAC1D,CAAC;QAFe,2BAAgB,mBAE/B,CAAA;IACL,CAAC,EApCgB,UAAU,GAAV,mBAAU,KAAV,mBAAU,QAoC1B;IAED,QAAQ,CAAC,UAAU,CAAC,YAAY,CAAC,SAAA,WAAW,EAAE,sBAAsB,CAAC,CAAC;AAC1E,CAAC,EAhHS,QAAQ,KAAR,QAAQ,QAgHjB;AAED,IAAU,MAAM,CAOf;AAPD,WAAU,MAAM;IAAC,IAAA,cAAc,CAO9B;IAPgB,WAAA,cAAc;QAG3B;YACI,8BAAmB,WAAmB;gBAAnB,gBAAW,GAAX,WAAW,CAAQ;YACtC,CAAC;YAFQ,oBAAoB;gBADhC,QAAQ,CAAC,UAAU,CAAC,aAAa,CAAC,6BAA6B,CAAC;eACpD,oBAAoB,CAGhC;YAAD,2BAAC;SAAA,AAHD,IAGC;QAHY,mCAAoB,uBAGhC,CAAA;IACL,CAAC,EAPgB,cAAc,GAAd,qBAAc,KAAd,qBAAc,QAO9B;AAAD,CAAC,EAPS,MAAM,KAAN,MAAM,QAOf;AAED,WAAU,QAAQ;IAEd,SAAS,IAAI,CAAC,IAAY;QACtB,OAAO,QAAQ,CAAC,UAAU,CAAC,aAAa,CAAC,WAAW,GAAG,IAAI,GAAG,WAAW,CAAC,CAAA;IAC9E,CAAC;IAGD;QACI,2BAAmB,QAAgB;YAAhB,aAAQ,GAAR,QAAQ,CAAQ;QACnC,CAAC;QAFQ,iBAAiB;YAD7B,IAAI,CAAC,UAAU,CAAC;WACJ,iBAAiB,CAG7B;QAAD,wBAAC;KAAA,AAHD,IAGC;IAHY,0BAAiB,oBAG7B,CAAA;IAGD;QACI,6BAAmB,KAAa;YAAb,UAAK,GAAL,KAAK,CAAQ;QAChC,CAAC;QAFQ,mBAAmB;YAD/B,IAAI,CAAC,YAAY,CAAC;WACN,mBAAmB,CAG/B;QAAD,0BAAC;KAAA,AAHD,IAGC;IAHY,4BAAmB,sBAG/B,CAAA;IAID;QACI,2BAAmB,QAAgB;YAAhB,aAAQ,GAAR,QAAQ,CAAQ;QACnC,CAAC;QAFQ,iBAAiB;YAD7B,IAAI,CAAC,UAAU,CAAC;WACJ,iBAAiB,CAG7B;QAAD,wBAAC;KAAA,AAHD,IAGC;IAHY,0BAAiB,oBAG7B,CAAA;IAGD;QACI,+BAAmB,KAAU;YAAV,UAAK,GAAL,KAAK,CAAK;QAC7B,CAAC;QAFQ,qBAAqB;YADjC,IAAI,CAAC,cAAc,CAAC;WACR,qBAAqB,CAGjC;QAAD,4BAAC;KAAA,AAHD,IAGC;IAHY,8BAAqB,wBAGjC,CAAA;IAGD;QACI,6BAAmB,KAAU;YAAV,UAAK,GAAL,KAAK,CAAK;QAC7B,CAAC;QAFQ,mBAAmB;YAD/B,IAAI,CAAC,YAAY,CAAC;WACN,mBAAmB,CAG/B;QAAD,0BAAC;KAAA,AAHD,IAGC;IAHY,4BAAmB,sBAG/B,CAAA;IAGD;QACI;QAAgB,CAAC;QADR,eAAe;YAD3B,IAAI,CAAC,QAAQ,CAAC;WACF,eAAe,CAG3B;QAAD,sBAAC;KAAA,AAHD,IAGC;IAHY,wBAAe,kBAG3B,CAAA;IAGD;QACI,+BAAmB,GAAW,EAAS,KAAU;YAA9B,QAAG,GAAH,GAAG,CAAQ;YAAS,UAAK,GAAL,KAAK,CAAK;QACjD,CAAC;QAFQ,qBAAqB;YADjC,IAAI,CAAC,cAAc,CAAC;WACR,qBAAqB,CAGjC;QAAD,4BAAC;KAAA,AAHD,IAGC;IAHY,8BAAqB,wBAGjC,CAAA;IAGD;QACI,iCAAmB,UAAkB;YAAlB,eAAU,GAAV,UAAU,CAAQ;QACrC,CAAC;QAEM,2CAAS,GAAhB,UAAiB,YAAiB;QAClC,CAAC;QALQ,uBAAuB;YADnC,QAAQ,CAAC,UAAU,CAAC,aAAa,CAAC,kCAAkC,CAAC;WACzD,uBAAuB,CAMnC;QAAD,8BAAC;KAAA,AAND,IAMC;IANY,gCAAuB,0BAMnC,CAAA;IAGD;QAAyC,uCAAuB;QAC5D,6BAAY,UAAkB;mBAC1B,kBAAM,UAAU,CAAC;QACrB,CAAC;QAHQ,mBAAmB;YAD/B,IAAI,CAAC,YAAY,CAAC;WACN,mBAAmB,CAI/B;QAAD,0BAAC;KAAA,AAJD,CAAyC,uBAAuB,GAI/D;IAJY,4BAAmB,sBAI/B,CAAA;IAGD;QACI,0BAAmB,KAAa;YAAb,UAAK,GAAL,KAAK,CAAQ;QAChC,CAAC;QAFQ,gBAAgB;YAD5B,IAAI,CAAC,SAAS,CAAC;WACH,gBAAgB,CAG5B;QAAD,uBAAC;KAAA,AAHD,IAGC;IAHY,yBAAgB,mBAG5B,CAAA;IAGD;QACI,6BAAmB,KAAa;YAAb,UAAK,GAAL,KAAK,CAAQ;QAChC,CAAC;QAFQ,mBAAmB;YAD/B,IAAI,CAAC,YAAY,CAAC;WACN,mBAAmB,CAG/B;QAAD,0BAAC;KAAA,AAHD,IAGC;IAHY,4BAAmB,sBAG/B,CAAA;IAGD;QACI,6BAAmB,KAAY;YAAZ,sBAAA,EAAA,YAAY;YAAZ,UAAK,GAAL,KAAK,CAAO;QAC/B,CAAC;QAFQ,mBAAmB;YAD/B,IAAI,CAAC,YAAY,CAAC;WACN,mBAAmB,CAG/B;QAAD,0BAAC;KAAA,AAHD,IAGC;IAHY,4BAAmB,sBAG/B,CAAA;IAGD;QACI,0BAAmB,KAAa;YAAb,UAAK,GAAL,KAAK,CAAQ;QAChC,CAAC;QAFQ,gBAAgB;YAD5B,IAAI,CAAC,SAAS,CAAC;WACH,gBAAgB,CAG5B;QAAD,uBAAC;KAAA,AAHD,IAGC;IAHY,yBAAgB,mBAG5B,CAAA;IAGD;QACI,gCAAmB,MAAe;YAAf,WAAM,GAAN,MAAM,CAAS;QAClC,CAAC;QAFQ,sBAAsB;YADlC,IAAI,CAAC,eAAe,CAAC;WACT,sBAAsB,CAGlC;QAAD,6BAAC;KAAA,AAHD,IAGC;IAHY,+BAAsB,yBAGlC,CAAA;IAGD;QACI;QACA,CAAC;QAFQ,eAAe;YAD3B,IAAI,CAAC,QAAQ,CAAC;WACF,eAAe,CAG3B;QAAD,sBAAC;KAAA,AAHD,IAGC;IAHY,wBAAe,kBAG3B,CAAA;IAGD;QACI,uBAAmB,IAAY;YAAZ,SAAI,GAAJ,IAAI,CAAQ;QAC/B,CAAC;QAFQ,aAAa;YADzB,IAAI,CAAC,MAAM,CAAC;WACA,aAAa,CAGzB;QAAD,oBAAC;KAAA,AAHD,IAGC;IAHY,sBAAa,gBAGzB,CAAA;IAGD;QACI,6BAAmB,KAAa;YAAb,UAAK,GAAL,KAAK,CAAQ;QAChC,CAAC;QAFQ,mBAAmB;YAD/B,IAAI,CAAC,YAAY,CAAC;WACN,mBAAmB,CAG/B;QAAD,0BAAC;KAAA,AAHD,IAGC;IAHY,4BAAmB,sBAG/B,CAAA;IAGD;QACI,6BAAmB,KAAY;YAAZ,sBAAA,EAAA,YAAY;YAAZ,UAAK,GAAL,KAAK,CAAO;QAC/B,CAAC;QAFQ,mBAAmB;YAD/B,IAAI,CAAC,YAAY,CAAC;WACN,mBAAmB,CAG/B;QAAD,0BAAC;KAAA,AAHD,IAGC;IAHY,4BAAmB,sBAG/B,CAAA;IAGD;QACI,mCAAmB,KAAa;YAAb,UAAK,GAAL,KAAK,CAAQ;QAChC,CAAC;QAFQ,yBAAyB;YADrC,IAAI,CAAC,kBAAkB,CAAC;WACZ,yBAAyB,CAGrC;QAAD,gCAAC;KAAA,AAHD,IAGC;IAHY,kCAAyB,4BAGrC,CAAA;IAGD;QACI,2BAAmB,KAAa;YAAb,UAAK,GAAL,KAAK,CAAQ;QAChC,CAAC;QAFQ,iBAAiB;YAD7B,IAAI,CAAC,UAAU,CAAC;WACJ,iBAAiB,CAG7B;QAAD,wBAAC;KAAA,AAHD,IAGC;IAHY,0BAAiB,oBAG7B,CAAA;IAGD;QACI,kCAAmB,KAAa;YAAb,UAAK,GAAL,KAAK,CAAQ;QAChC,CAAC;QAFQ,wBAAwB;YADpC,IAAI,CAAC,iBAAiB,CAAC;WACX,wBAAwB,CAGpC;QAAD,+BAAC;KAAA,AAHD,IAGC;IAHY,iCAAwB,2BAGpC,CAAA;IAGD;QACI,8BAAmB,KAAY;YAAZ,sBAAA,EAAA,YAAY;YAAZ,UAAK,GAAL,KAAK,CAAO;QAC/B,CAAC;QAFQ,oBAAoB;YADhC,IAAI,CAAC,aAAa,CAAC;WACP,oBAAoB,CAGhC;QAAD,2BAAC;KAAA,AAHD,IAGC;IAHY,6BAAoB,uBAGhC,CAAA;IAGD;QACI,4BAAmB,SAAiB;YAAjB,cAAS,GAAT,SAAS,CAAQ;QACpC,CAAC;QAFQ,kBAAkB;YAD9B,IAAI,CAAC,WAAW,CAAC;WACL,kBAAkB,CAG9B;QAAD,yBAAC;KAAA,AAHD,IAGC;IAHY,2BAAkB,qBAG9B,CAAA;IAGD;QACI,+BAAmB,KAAa;YAAb,UAAK,GAAL,KAAK,CAAQ;QAChC,CAAC;QAFQ,qBAAqB;YADjC,IAAI,CAAC,cAAc,CAAC;WACR,qBAAqB,CAGjC;QAAD,4BAAC;KAAA,AAHD,IAGC;IAHY,8BAAqB,wBAGjC,CAAA;IAGD;QAAA;QACA,CAAC;QADY,eAAe;YAD3B,IAAI,CAAC,QAAQ,CAAC;WACF,eAAe,CAC3B;QAAD,sBAAC;KAAA,AADD,IACC;IADY,wBAAe,kBAC3B,CAAA;IAGD;QACI;QACA,CAAC;QAFQ,eAAe;YAD3B,IAAI,CAAC,QAAQ,CAAC;WACF,eAAe,CAG3B;QAAD,sBAAC;KAAA,AAHD,IAGC;IAHY,wBAAe,kBAG3B,CAAA;IAGD;QACI,8BAAmB,KAAe;YAAf,UAAK,GAAL,KAAK,CAAU;QAClC,CAAC;QAFQ,oBAAoB;YADhC,IAAI,CAAC,aAAa,CAAC;WACP,oBAAoB,CAGhC;QAAD,2BAAC;KAAA,AAHD,IAGC;IAHY,6BAAoB,uBAGhC,CAAA;IAGD;QACI,wBAAmB,KAAY;YAAZ,sBAAA,EAAA,YAAY;YAAZ,UAAK,GAAL,KAAK,CAAO;QAC/B,CAAC;QAFQ,cAAc;YAD1B,IAAI,CAAC,OAAO,CAAC;WACD,cAAc,CAG1B;QAAD,qBAAC;KAAA,AAHD,IAGC;IAHY,uBAAc,iBAG1B,CAAA;IAGD;QACI,8BAAmB,KAAa;YAAb,UAAK,GAAL,KAAK,CAAQ;QAChC,CAAC;QAFQ,oBAAoB;YADhC,IAAI,CAAC,aAAa,CAAC;WACP,oBAAoB,CAGhC;QAAD,2BAAC;KAAA,AAHD,IAGC;IAHY,6BAAoB,uBAGhC,CAAA;IAGD;QACI,2BAAmB,KAAY;YAAZ,sBAAA,EAAA,YAAY;YAAZ,UAAK,GAAL,KAAK,CAAO;QAC/B,CAAC;QAFQ,iBAAiB;YAD7B,IAAI,CAAC,UAAU,CAAC;WACJ,iBAAiB,CAG7B;QAAD,wBAAC;KAAA,AAHD,IAGC;IAHY,0BAAiB,oBAG7B,CAAA;IAGD;QACI,2BAAmB,UAAiB;YAAjB,2BAAA,EAAA,iBAAiB;YAAjB,eAAU,GAAV,UAAU,CAAO;QACpC,CAAC;QAFQ,iBAAiB;YAD7B,IAAI,CAAC,UAAU,CAAC;WACJ,iBAAiB,CAG7B;QAAD,wBAAC;KAAA,AAHD,IAGC;IAHY,0BAAiB,oBAG7B,CAAA;IAGD;QACI,4BAAmB,KAAY;YAAZ,sBAAA,EAAA,YAAY;YAAZ,UAAK,GAAL,KAAK,CAAO;QAC/B,CAAC;QAFQ,kBAAkB;YAD9B,IAAI,CAAC,WAAW,CAAC;WACL,kBAAkB,CAG9B;QAAD,yBAAC;KAAA,AAHD,IAGC;IAHY,2BAAkB,qBAG9B,CAAA;IAGD;QACI,6BAAmB,KAAY;YAAZ,sBAAA,EAAA,YAAY;YAAZ,UAAK,GAAL,KAAK,CAAO;QAC/B,CAAC;QAFQ,mBAAmB;YAD/B,IAAI,CAAC,YAAY,CAAC;WACN,mBAAmB,CAG/B;QAAD,0BAAC;KAAA,AAHD,IAGC;IAHY,4BAAmB,sBAG/B,CAAA;IAGD;QACI,0BAAmB,KAAa;YAAb,UAAK,GAAL,KAAK,CAAQ;QAChC,CAAC;QAFQ,gBAAgB;YAD5B,IAAI,CAAC,SAAS,CAAC;WACH,gBAAgB,CAG5B;QAAD,uBAAC;KAAA,AAHD,IAGC;IAHY,yBAAgB,mBAG5B,CAAA;IAGD;QACI,4BAAmB,KAAY;YAAZ,sBAAA,EAAA,YAAY;YAAZ,UAAK,GAAL,KAAK,CAAO;QAC/B,CAAC;QAFQ,kBAAkB;YAD9B,IAAI,CAAC,WAAW,CAAC;WACL,kBAAkB,CAG9B;QAAD,yBAAC;KAAA,AAHD,IAGC;IAHY,2BAAkB,qBAG9B,CAAA;IAED,IAAiB,UAAU,CAyH1B;IAzHD,WAAiB,UAAU;QAEvB,SAAgB,MAAM;YAClB,OAAO,UAAU,MAAc,EAAE,WAAmB;gBAEhD,IAAI,QAAQ,GAAG,CAAC,CAAC,UAAU,CAAC,WAAW,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;gBACtF,IAAI,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC;gBAEhE,IAAI,IAAI,GAAQ,MAAM,CAAC,WAAW,CAAC;gBACnC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,EAAE,CAAC;gBACxC,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,IAAI,EAAE,CAAC;gBACxD,IAAI,MAAM,GAAQ,SAAS,CAAC;gBAC5B,KAAc,UAAuB,EAAvB,KAAA,IAAI,CAAC,UAAU,CAAC,OAAO,EAAvB,cAAuB,EAAvB,IAAuB,EAAE;oBAAlC,IAAI,CAAC,SAAA;oBACN,IAAI,CAAC,CAAC,IAAI,IAAI,UAAU,EAAE;wBACtB,MAAM,GAAG,CAAC,CAAC;wBACX,MAAM;qBACT;iBACJ;gBAED,IAAI,CAAC,MAAM,EAAE;oBACT,MAAM,GAAG;wBACL,IAAI,EAAE,CAAC,IAAI,QAAQ,CAAC,eAAe,EAAE,CAAC;wBACtC,IAAI,EAAE,UAAU;qBACnB,CAAC;oBAEF,IAAI,QAAQ,EAAE;wBACV,MAAM,CAAC,IAAI,oBAAwB,CAAC;wBAEpC,MAAM,CAAC,MAAM,GAAG;4BACZ,IAAI,EAAE,MAAM,GAAG,UAAU;yBAC5B,CAAC;wBAEF,MAAM,CAAC,MAAM,GAAG;4BACZ,IAAI,EAAE,MAAM,GAAG,UAAU;yBAC5B,CAAC;qBACL;yBACI;wBACD,MAAM,CAAC,IAAI,gBAAqB,CAAC;qBACpC;oBAED,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBACxC;qBACI;oBACD,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,IAAI,EAAE,CAAC;oBAChC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,eAAe,EAAE,CAAC,CAAC;iBAC3C;YACL,CAAC,CAAA;QACL,CAAC;QA7Ce,iBAAM,SA6CrB,CAAA;QAED,SAAgB,iBAAiB,CAAC,UAA8C,EAAE,KAAgC;YAAhF,2BAAA,EAAA,cAA8B,SAAA,eAAe,CAAC;YAAE,sBAAA,EAAA,SAAgB,SAAA,eAAe,CAAC;YAC9G,OAAO,WAAA,aAAa,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;QAC5C,CAAC;QAFe,4BAAiB,oBAEhC,CAAA;QAED,SAAgB,UAAU,CAAC,KAAU;YACjC,OAAO,UAAU,MAAgB;gBAC7B,WAAA,YAAY,CAAC,MAAM,EAAE,IAAI,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC;YACzD,CAAC,CAAA;QACL,CAAC;QAJe,qBAAU,aAIzB,CAAA;QAED,SAAgB,MAAM,CAAC,GAAY;YAC/B,OAAO,UAAU,MAAgB;gBAC7B,IAAI,IAAI,GAAG,IAAI,eAAe,EAAE,CAAC;gBACjC,IAAI,GAAG,KAAK,SAAS;oBACjB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;gBACnB,WAAA,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YAC/B,CAAC,CAAA;QACL,CAAC;QAPe,iBAAM,SAOrB,CAAA;QAED,SAAgB,OAAO,CAAC,KAAa;YACjC,OAAO,UAAU,MAAgB;gBAC7B,WAAA,YAAY,CAAC,MAAM,EAAE,IAAI,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC;YACtD,CAAC,CAAA;QACL,CAAC;QAJe,kBAAO,UAItB,CAAA;QAED,SAAgB,UAAU,CAAC,KAAY;YAAZ,sBAAA,EAAA,YAAY;YACnC,OAAO,UAAU,MAAgB;gBAC7B,WAAA,YAAY,CAAC,MAAM,EAAE,IAAI,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC;YACzD,CAAC,CAAA;QACL,CAAC;QAJe,qBAAU,aAIzB,CAAA;QAED,SAAgB,QAAQ,CAAC,KAAa;YAClC,OAAO,UAAU,MAAgB;gBAC7B,WAAA,YAAY,CAAC,MAAM,EAAE,IAAI,iBAAiB,CAAC,KAAK,CAAC,CAAC,CAAC;YACvD,CAAC,CAAA;QACL,CAAC;QAJe,mBAAQ,WAIvB,CAAA;QAED,SAAgB,WAAW,CAAC,KAAY;YAAZ,sBAAA,EAAA,YAAY;YACpC,OAAO,UAAU,MAAgB;gBAC7B,WAAA,YAAY,CAAC,MAAM,EAAE,IAAI,oBAAoB,CAAC,KAAK,CAAC,CAAC,CAAC;YAC1D,CAAC,CAAA;QACL,CAAC;QAJe,sBAAW,cAI1B,CAAA;QAED,SAAgB,WAAW,CAAC,KAAe;YACvC,OAAO,UAAU,MAAgB;gBAC7B,WAAA,YAAY,CAAC,MAAM,EAAE,IAAI,oBAAoB,CAAC,KAAK,CAAC,CAAC,CAAC;YAC1D,CAAC,CAAA;QACL,CAAC;QAJe,sBAAW,cAI1B,CAAA;QAED,SAAgB,KAAK,CAAC,KAAY;YAAZ,sBAAA,EAAA,YAAY;YAC9B,OAAO,UAAU,MAAgB;gBAC7B,WAAA,YAAY,CAAC,MAAM,EAAE,IAAI,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC;YACpD,CAAC,CAAA;QACL,CAAC;QAJe,gBAAK,QAIpB,CAAA;QAED,SAAgB,SAAS,CAAC,KAAY;YAAZ,sBAAA,EAAA,YAAY;YAClC,OAAO,UAAU,MAAgB;gBAC7B,WAAA,YAAY,CAAC,MAAM,EAAE,IAAI,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC;YACxD,CAAC,CAAA;QACL,CAAC;QAJe,oBAAS,YAIxB,CAAA;QAED,SAAgB,UAAU,CAAC,KAAY;YAAZ,sBAAA,EAAA,YAAY;YACnC,OAAO,UAAU,MAAgB;gBAC7B,WAAA,YAAY,CAAC,MAAM,EAAE,IAAI,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC;YACzD,CAAC,CAAA;QACL,CAAC;QAJe,qBAAU,aAIzB,CAAA;QAED,SAAgB,OAAO,CAAC,KAAa;YACjC,OAAO,UAAU,MAAgB;gBAC7B,WAAA,YAAY,CAAC,MAAM,EAAE,IAAI,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC;YACtD,CAAC,CAAA;QACL,CAAC;QAJe,kBAAO,UAItB,CAAA;IACL,CAAC,EAzHgB,UAAU,GAAV,mBAAU,KAAV,mBAAU,QAyH1B;AACL,CAAC,EArVS,QAAQ,KAAR,QAAQ,QAqVjB;AChdD,IAAU,QAAQ,CAUjB;AAVD,WAAU,QAAQ;IAGd;QAAA;QACA,CAAC;QADY,OAAO;YADnB,SAAA,UAAU,CAAC,iBAAiB,CAAC,kBAAkB,CAAC;WACpC,OAAO,CACnB;QAAD,cAAC;KAAA,AADD,IACC;IADY,gBAAO,UACnB,CAAA;AAML,CAAC,EAVS,QAAQ,KAAR,QAAQ,QAUjB;ACVD,IAAU,QAAQ,CASjB;AATD,WAAU,QAAQ;IAGd;QAAA;QACA,CAAC;QADY,WAAW;YADvB,SAAA,UAAU,CAAC,iBAAiB,CAAC,sBAAsB,CAAC;WACxC,WAAW,CACvB;QAAD,kBAAC;KAAA,AADD,IACC;IADY,oBAAW,cACvB,CAAA;AAKL,CAAC,EATS,QAAQ,KAAR,QAAQ,QASjB;ACTD,IAAU,QAAQ,CAWjB;AAXD,WAAU,QAAQ;IAGd;QAAA;QACA,CAAC;QADY,aAAa;YADzB,QAAQ,CAAC,UAAU,CAAC,iBAAiB,EAAE;WAC3B,aAAa,CACzB;QAAD,oBAAC;KAAA,AADD,IACC;IADY,sBAAa,gBACzB,CAAA;AAOL,CAAC,EAXS,QAAQ,KAAR,QAAQ,QAWjB;ACXD,IAAU,QAAQ,CAUjB;AAVD,WAAU,QAAQ;IAGd;QAAA;QACA,CAAC;QADY,YAAY;YADxB,QAAQ,CAAC,UAAU,CAAC,iBAAiB,EAAE;WAC3B,YAAY,CACxB;QAAD,mBAAC;KAAA,AADD,IACC;IADY,qBAAY,eACxB,CAAA;AAML,CAAC,EAVS,QAAQ,KAAR,QAAQ,QAUjB;ACVD,IAAU,QAAQ,CAUjB;AAVD,WAAU,QAAQ;IAGd;QAAA;QACA,CAAC;QADY,YAAY;YADxB,QAAQ,CAAC,UAAU,CAAC,iBAAiB,EAAE;WAC3B,YAAY,CACxB;QAAD,mBAAC;KAAA,AADD,IACC;IADY,qBAAY,eACxB,CAAA;AAML,CAAC,EAVS,QAAQ,KAAR,QAAQ,QAUjB;ACVD,IAAU,QAAQ,CASjB;AATD,WAAU,QAAQ;IAGd;QAAA;QACA,CAAC;QADY,aAAa;YADzB,QAAQ,CAAC,UAAU,CAAC,iBAAiB,EAAE;WAC3B,aAAa,CACzB;QAAD,oBAAC;KAAA,AADD,IACC;IADY,sBAAa,gBACzB,CAAA;AAKL,CAAC,EATS,QAAQ,KAAR,QAAQ,QASjB;ACTD,IAAU,QAAQ,CASjB;AATD,WAAU,QAAQ;IAGd;QAAA;QACA,CAAC;QADY,aAAa;YADzB,QAAQ,CAAC,UAAU,CAAC,iBAAiB,EAAE;WAC3B,aAAa,CACzB;QAAD,oBAAC;KAAA,AADD,IACC;IADY,sBAAa,gBACzB,CAAA;AAKL,CAAC,EATS,QAAQ,KAAR,QAAQ,QASjB;ACTD,IAAU,QAAQ,CAUjB;AAVD,WAAU,QAAQ;IAQd;QAAA;QACA,CAAC;QADY,SAAS;YADrB,QAAQ,CAAC,UAAU,CAAC,iBAAiB,CAAC,oBAAoB,CAAC;WAC/C,SAAS,CACrB;QAAD,gBAAC;KAAA,AADD,IACC;IADY,kBAAS,YACrB,CAAA;AACL,CAAC,EAVS,QAAQ,KAAR,QAAQ,QAUjB;ACVD,IAAU,QAAQ,CAUjB;AAVD,WAAU,QAAQ;IAQd;QAAA;QACA,CAAC;QADY,iBAAiB;YAD7B,SAAA,UAAU,CAAC,iBAAiB,CAAC,4BAA4B,CAAC;WAC9C,iBAAiB,CAC7B;QAAD,wBAAC;KAAA,AADD,IACC;IADY,0BAAiB,oBAC7B,CAAA;AACL,CAAC,EAVS,QAAQ,KAAR,QAAQ,QAUjB;AGVD,IAAU,QAAQ,CA2DjB;AA3DD,WAAU,QAAQ;IAAC,IAAA,kBAAkB,CA2DpC;IA3DkB,WAAA,kBAAkB;QAEjC,SAAS,MAAM,CAAC,QAAgB;YAE5B,IAAI,UAAU,GAAG,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,UAAU,IAAI,IAAI,IAAI,CAAC,CAAC,gBAAgB,CAAC,QAAQ,CAAC,OAAO,EAAE,UAAU,CAAC,EAAE;gBACxE,OAAO,UAAU,CAAC;aACrB;YAED,KAAe,UAAuB,EAAvB,KAAA,CAAC,CAAC,MAAM,CAAC,cAAc,EAAvB,cAAuB,EAAvB,IAAuB,EAAE;gBAAnC,IAAI,EAAE,SAAA;gBACP,UAAU,GAAG,CAAC,CAAC,OAAO,CAAC,EAAE,GAAG,GAAG,GAAG,QAAQ,CAAC,CAAC;gBAC5C,IAAI,UAAU,IAAI,IAAI,IAAI,CAAC,CAAC,gBAAgB,CAAC,QAAQ,CAAC,OAAO,EAAE,UAAU,CAAC,EAAE;oBACxE,OAAO,UAAU,CAAC;iBACrB;aACJ;YACD,OAAO,IAAI,CAAC;QAChB,CAAC;QAED,IAAI,UAAU,GAAoC,EAAE,CAAC;QAErD,SAAgB,MAAM,CAAC,GAAW;YAC9B,IAAI,UAAU,CAAC,GAAG,CAAC,IAAI,IAAI,EAAE;gBACzB,IAAI,QAAQ,GAAG,GAAG,CAAC;gBACnB,IAAI,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;gBAElC,IAAI,UAAU,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,QAAQ,CAAC,EAAE;oBAClD,QAAQ,GAAG,GAAG,GAAG,QAAQ,CAAC;oBAC1B,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;iBACjC;gBAED,IAAI,UAAU,IAAI,IAAI,EAAE;oBACpB,OAAO,IAAI,CAAC;iBACf;gBAED,UAAU,CAAC,GAAG,CAAC,GAAG,UAAiB,CAAC;gBACpC,OAAO,UAAiB,CAAC;aAC5B;YAED,OAAO,UAAU,CAAC,GAAG,CAAC,CAAC;QAC3B,CAAC;QAnBe,yBAAM,SAmBrB,CAAA;QAED,SAAgB,GAAG,CAAC,GAAW;YAE3B,IAAI,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;YAEvB,IAAI,IAAI,IAAI,IAAI,EAAE;gBACd,IAAI,OAAO,GAAG,GAAG,GAAG,gFAAgF;oBAChG,gGAAgG;oBAChG,qGAAqG;oBACrG,gGAAgG;oBAChG,gHAAgH,CAAC;gBAErH,CAAC,CAAC,WAAW,CAAC,OAAO,EAAE,EAAE,EAAE,IAAI,CAAC,CAAC;gBAEjC,MAAM,IAAI,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;aAClC;YAED,OAAO,IAAI,CAAC;QAChB,CAAC;QAjBe,sBAAG,MAiBlB,CAAA;IACL,CAAC,EA3DkB,kBAAkB,GAAlB,2BAAkB,KAAlB,2BAAkB,QA2DpC;AAAD,CAAC,EA3DS,QAAQ,KAAR,QAAQ,QA2DjB;AC3DD,IAAU,QAAQ,CAyFjB;AAzFD,WAAU,QAAQ;IACd,IAAiB,kBAAkB,CAuFlC;IAvFD,WAAiB,kBAAkB;QAC/B,IAAI,UAAqC,CAAC;QAE1C,SAAgB,GAAG,CAAC,GAAW;;YAE3B,IAAI,CAAC,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE;gBACtB,MAAM,IAAI,CAAC,CAAC,qBAAqB,CAAC,KAAK,CAAC,CAAC;aAC5C;YAED,UAAU,EAAE,CAAC;YAEb,IAAI,UAAU,GAAG,UAAU,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,CAAC;YAC/C,IAAI,UAAU,IAAI,IAAI,EAAE;gBAEpB,IAAI,IAAI,SAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,mCAAI,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;gBACvD,IAAI,IAAI,IAAI,IAAI,EAAE;oBACd,UAAU,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,GAAG,IAAW,CAAC;oBAC5C,OAAO,IAAW,CAAC;iBACtB;gBAED,MAAM,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC,CAAC;aACvE;YACD,OAAO,UAAU,CAAC;QAEtB,CAAC;QArBe,sBAAG,MAqBlB,CAAA;QAED,SAAS,UAAU;YAEf,IAAI,UAAU,IAAI,IAAI;gBAClB,OAAO;YAEX,UAAU,GAAG,EAAE,CAAC;YAEhB,KAAiB,UAAY,EAAZ,KAAA,CAAC,CAAC,QAAQ,EAAE,EAAZ,cAAY,EAAZ,IAAY,EAAE;gBAA1B,IAAI,IAAI,SAAA;gBAET,IAAI,QAAQ,GAAG,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC;gBACrD,UAAU,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;gBAE5B,IAAI,UAAU,GAAG,CAAC,CAAC,aAAa,CAAC,IAAI,EAAE,QAAQ,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;gBACxE,IAAI,UAAU,IAAI,IAAI,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7C,IAAI,OAAO,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;oBAChC,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC,OAAO,CAAC,EAAE;wBAC3B,UAAU,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,GAAG,IAAI,CAAC;qBAC5C;iBACJ;gBAED,KAAc,UAAuB,EAAvB,KAAA,CAAC,CAAC,MAAM,CAAC,cAAc,EAAvB,cAAuB,EAAvB,IAAuB,EAAE;oBAAlC,IAAI,CAAC,SAAA;oBACN,IAAI,CAAC,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,CAAC,WAAW,EAAE,GAAG,GAAG,CAAC,EAAE;wBAC/C,IAAI,EAAE,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;wBACrD,IAAI,UAAU,CAAC,EAAE,CAAC,IAAI,IAAI,EAAE;4BACxB,UAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC;yBACzB;qBACJ;iBACJ;aACJ;YAED,8BAA8B,EAAE,CAAC;QACrC,CAAC;QAED,SAAgB,KAAK;YACjB,UAAU,GAAG,IAAI,CAAC;QACtB,CAAC;QAFe,wBAAK,QAEpB,CAAA;QAED,SAAS,8BAA8B;YACnC,IAAI,MAAM,GAAG,QAAQ,CAAC;YACtB,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YACnC,KAAc,UAAI,EAAJ,aAAI,EAAJ,kBAAI,EAAJ,IAAI,EAAE;gBAAf,IAAI,CAAC,aAAA;gBACN,gBAAgB,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;aACtC;QACL,CAAC;QAED,SAAS,gBAAgB,CAAC,GAAW,EAAE,CAAc;YACjD,IAAI,MAAM,GAAG,QAAQ,CAAC;YAEtB,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,MAAM,CAAC;gBACxB,OAAO;YAEX,IAAI,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;YAElD,IAAI,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;gBAClB,OAAO;YAEX,IAAI,UAAU,CAAC,CAAC,CAAC,IAAI,IAAI;gBACrB,OAAO;YAEX,UAAU,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;QACpC,CAAC;IACL,CAAC,EAvFgB,kBAAkB,GAAlB,2BAAkB,KAAlB,2BAAkB,QAuFlC;AACL,CAAC,EAzFS,QAAQ,KAAR,QAAQ,QAyFjB;ACzFD,IAAU,QAAQ,CAgDjB;AAhDD,WAAU,QAAQ;IACd,IAAiB,gBAAgB,CA8ChC;IA9CD,WAAiB,gBAAgB;QAE7B,IAAI,UAAkC,CAAC;QAEvC,SAAgB,MAAM,CAAC,GAAW;YAE9B,IAAI,UAAU,IAAI,IAAI,EAAE;gBACpB,UAAU,GAAG,EAAE,CAAC;gBAChB,KAAiB,UAAY,EAAZ,KAAA,CAAC,CAAC,QAAQ,EAAE,EAAZ,cAAY,EAAZ,IAAY,EAAE;oBAA1B,IAAI,IAAI,SAAA;oBACT,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE;wBAChB,IAAI,QAAQ,GAAG,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;wBACvC,UAAU,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;wBAC5B,IAAI,WAAW,GAAG,CAAC,CAAC,aAAa,CAAC,IAAI,EAAE,QAAQ,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;wBAC1E,IAAI,WAAW,IAAI,IAAI,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;4BAC/C,UAAU,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;yBAC3C;wBAED,KAAc,UAAuB,EAAvB,KAAA,CAAC,CAAC,MAAM,CAAC,cAAc,EAAvB,cAAuB,EAAvB,IAAuB,EAAE;4BAAlC,IAAI,CAAC,SAAA;4BACN,IAAI,CAAC,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE;gCACjC,UAAU,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;6BACpD;yBACJ;qBACJ;iBACJ;aACJ;YAED,IAAI,UAAU,CAAC,GAAG,CAAC,IAAI,IAAI;gBACvB,OAAO,IAAI,CAAC;YAEhB,OAAO,UAAU,CAAC,GAAG,CAAC,CAAC;QAC3B,CAAC;QA1Be,uBAAM,SA0BrB,CAAA;QAED,SAAgB,GAAG,CAAC,GAAW;YAC3B,IAAI,IAAI,GAAG,gBAAgB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YACxC,IAAI,IAAI,IAAI,IAAI,EAAE;gBACd,IAAI,OAAO,GAAG,CAAC,CAAC,MAAM,CAAC,wEAAwE;oBAC3F,8FAA8F;oBAC9F,iGAAiG;oBACjG,4DAA4D,EAAE,GAAG,CAAC,CAAC;gBAEvE,CAAC,CAAC,WAAW,CAAC,OAAO,EAAE,EAAE,EAAE,IAAI,CAAC,CAAC;gBACjC,MAAM,IAAI,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;aAClC;YAED,OAAO,IAAI,CAAC;QAChB,CAAC;QAbe,oBAAG,MAalB,CAAA;IACL,CAAC,EA9CgB,gBAAgB,GAAhB,yBAAgB,KAAhB,yBAAgB,QA8ChC;AACL,CAAC,EAhDS,QAAQ,KAAR,QAAQ,QAgDjB;AChDD,IAAU,QAAQ,CAmEjB;AAnED,WAAU,QAAQ;IACd,IAAiB,eAAe,CAiE/B;IAjED,WAAiB,eAAe;QAC5B,SAAgB,gBAAgB,CAAC,CAAM,EAAE,QAAgB;YACrD,IAAI,CAAC,GAAG,CAAC,CAAC;YACV,IAAI,MAAM,GAAG,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC,CAAC;YAClC,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,WAAW,CAAC,EAAE;gBACtC,OAAO,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;aAC1B;YACD,IAAI,SAAS,GAAG,aAAa,CAAC,QAAQ,CAAC,CAAC;YACxC,MAAM,GAAG,CAAC,CAAC,MAAM,GAAG,SAAS,CAAC,CAAC;YAC/B,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,WAAW,CAAC,EAAE;gBACtC,OAAO,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;aAC1B;YACD,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC;QACxB,CAAC;QAZe,gCAAgB,mBAY/B,CAAA;QAED,SAAgB,gBAAgB,CAAC,CAAM,EAAE,QAAgB,EAAE,KAAU;YACjE,IAAI,CAAC,GAAG,CAAC,CAAC;YACV,IAAI,MAAM,GAAG,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC,CAAC;YAClC,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,WAAW,CAAC,EAAE;gBACtC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;gBACzB,OAAO;aACV;YACD,IAAI,SAAS,GAAG,aAAa,CAAC,QAAQ,CAAC,CAAC;YACxC,MAAM,GAAG,CAAC,CAAC,MAAM,GAAG,SAAS,CAAC,CAAC;YAC/B,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,WAAW,CAAC,EAAE;gBACtC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;gBACzB,OAAO;aACV;YACD,CAAC,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC;QACzB,CAAC;QAde,gCAAgB,mBAc/B,CAAA;QAED,SAAgB,aAAa,CAAC,CAAS;YACnC,IAAI,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE;gBACpB,OAAO,CAAC,CAAC;aACZ;YAED,IAAI,CAAC,KAAK,IAAI,EAAE;gBACZ,OAAO,IAAI,CAAC;aACf;YAED,IAAI,eAAe,GAAG,KAAK,CAAC;YAC5B,IAAI,iBAAiB,GAAG,CAAC,CAAC;YAC1B,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,CAAC,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;gBAC3C,IAAI,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE;oBACxD,iBAAiB,EAAE,CAAC;iBACvB;qBACI;oBACD,eAAe,GAAG,IAAI,CAAC;oBACvB,MAAM;iBACT;aACJ;YAED,IAAI,CAAC,eAAe,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,IAAI,iBAAiB,KAAK,CAAC,EAAE;gBAC/D,OAAO,CAAC,CAAC;aACZ;iBACI,IAAI,iBAAiB,GAAG,CAAC,EAAE;gBAC5B,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,iBAAiB,GAAG,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAAC;aAC7F;iBACI,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;gBACrB,OAAO,CAAC,CAAC,WAAW,EAAE,CAAC;aAC1B;iBACI;gBACD,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;aACrD;QACL,CAAC;QAjCe,6BAAa,gBAiC5B,CAAA;IACL,CAAC,EAjEgB,eAAe,GAAf,wBAAe,KAAf,wBAAe,QAiE/B;AACL,CAAC,EAnES,QAAQ,KAAR,QAAQ,QAmEjB;AEnED,IAAU,QAAQ,CA2OjB;AA3OD,WAAU,QAAQ;IAed,IAAI,OAAO,KAAK,KAAK,WAAW,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;QAC/D,IAAI,MAAM,CAAC,QAAQ,CAAC,IAAI,IAAI,EAAE;YAC1B,MAAM,CAAC,OAAO,CAAC,GAAG,MAAM,CAAC,UAAU,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;YACvD,KAAa,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAE,KAAa,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;SAC/E;aACI,IAAI,MAAM,CAAC,MAAM,CAAC,IAAI,IAAI,EAAE;YAC7B,MAAM,CAAC,OAAO,CAAC,GAAG,MAAM,CAAC,UAAU,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;YACrD,KAAa,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAE,KAAa,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;SAC/E;aACI;YACD,MAAM,CAAC,OAAO,CAAC,GAAG;gBACd,SAAS,EAAE,cAAc,CAAQ;gBACjC,QAAQ,EAAE,YAAmB;gBAC7B,aAAa,EAAE,cAAc,OAAO,EAAE,eAAe,EAAE,IAAI,EAAE,CAAC,CAAC,CAAQ;aACnE,CAAA;YACR,MAAM,CAAC,UAAU,CAAC,GAAG;gBACjB,MAAM,EAAE,cAAc,MAAM,KAAK,CAAC,gEAAgE,CAAC,CAAC,CAAC,CAAC;aACzG,CAAA;SACJ;KACJ;IAGD;QAAsC,0BAA8B;QAOhE,gBAAY,OAAe,EAAE,OAAkB;YAA/C,YACI,kBAAM,OAAO,CAAC,SAoBjB;YAlBG,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YACvB,KAAI,CAAC,OAAO,GAAG,OAAO,IAAK,EAAe,CAAC;YAE3C,KAAI,CAAC,UAAU,GAAG,QAAM,CAAC,aAAa,CAAC,CAAC,CAAC,eAAe,CAAC,KAAI,CAAC,CAAC,CAAC;YAChE,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,GAAG,CAAC,QAAM,CAAC,gBAAgB,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC;YAE3E,IAAI,OAAO,CAAC,IAAI,CAAC,KAAI,CAAC,UAAU,CAAC,EAAE;gBAC/B,MAAM,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,uCAAuC,EAAE,KAAI,CAAC,UAAU,CAAC,CAAC,CAAC;aAC7F;YAED,OAAO,CAAC,EAAE,CAAC,SAAS,GAAG,KAAI,CAAC,UAAU,EAAE,UAAA,CAAC;gBACrC,IAAI,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,UAAU,EAAE;oBAC3B,OAAO;iBACV;gBACD,KAAI,CAAC,OAAO,EAAE,CAAC;YACnB,CAAC,CAAC,CAAC,IAAI,CAAC,KAAI,CAAC,UAAU,EAAE,KAAI,CAAC,CAAC;YAE/B,KAAI,CAAC,WAAW,EAAE,CAAC;;QACvB,CAAC;mBA5BQ,MAAM;QA8BR,wBAAO,GAAd;YACI,IAAI,IAAI,CAAC,OAAO,EAAE;gBACd,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,GAAG,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACxE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBAC/F,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;aACvB;QACL,CAAC;QAES,4BAAW,GAArB;YACI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;QAC9C,CAAC;QAES,4BAAW,GAArB;YACI,IAAI,IAAI,GAAG,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YACnC,IAAI,KAAK,GAAG,IAAI,GAAG,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YACvC,IAAI,SAAS,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;YAEhE,KAAc,UAAuB,EAAvB,KAAA,CAAC,CAAC,MAAM,CAAC,cAAc,EAAvB,cAAuB,EAAvB,IAAuB,EAAE;gBAAlC,IAAI,CAAC,SAAA;gBACN,IAAI,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE;oBAClC,SAAS,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;oBAC3C,MAAM;iBACT;aACJ;YAED,SAAS,GAAG,IAAI,GAAG,SAAS,CAAC;YAC7B,IAAI,KAAK,KAAK,SAAS,EAAE;gBACrB,OAAO,KAAK,CAAC;aAChB;YAED,OAAO,KAAK,GAAG,GAAG,GAAG,SAAS,CAAC;QACnC,CAAC;QAEa,oBAAa,GAA3B,UAA4B,IAAc;YACtC,OAAO,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;QAC3D,CAAC;QAEa,iBAAU,GAAxB,UAAkC,UAA6C;YAC3E,IAAI,WAAW,GAAG,CAAC,CAAC,aAAa,CAAC,UAAU,EAAE,QAAQ,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;YAC/E,IAAI,WAAW,GAAG,CAAC,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;YACjF,OAAO,CAAC,CAAC,WAAW,CAAC,CAAC;QAC1B,CAAC;QAAA,CAAC;QAEK,kCAAiB,GAAxB,UAAyB,UAAkB,EAAE,IAA4B;YACrE,OAAO,CAAC,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;QAC/D,CAAC;QAEM,6BAAY,GAAnB;YACI,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAC1C,CAAC;QAEM,uBAAM,GAAb,UAAc,OAAuC;YACjD,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;QAC1D,CAAC;QAAA,CAAC;QAEK,8BAAa,GAApB,UAAqB,OAAuC;YACxD,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,EAAE,UAAS,CAAC;gBACnD,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,0BAA0B,CAAC;oBACjD,OAAO,CAAC,CAAC,CAAC,CAAC;YACnB,CAAC,CAAC,CAAC;QACP,CAAC;QAAA,CAAC;QAEY,aAAM,GAApB,UAAyD,MAAyC;YAC9F,IAAI,MAAe,CAAC;YAEpB,IAAI,CAAC,CAAC,gBAAgB,CAAC,QAAQ,CAAC,OAAO,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE;gBACnD,MAAM,GAAG,IAAK,MAAM,CAAC,IAAY,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;gBAClD,IAAI,MAAM,CAAC,SAAS;oBAChB,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;gBAC9C,MAAM,CAAC,OAAO,IAAI,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;aACpD;iBACI;gBACD,IAAI,CAAC,GAAG,QAAM,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBACvC,IAAI,MAAM,CAAC,SAAS;oBAChB,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;gBACjC,MAAM,CAAC,OAAO,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBACpC,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;aAC/C;YAED,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAClB,MAAM,CAAC,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAEnC,OAAO,MAAM,CAAC;QAClB,CAAC;QAEM,2BAAU,GAAjB;QACA,CAAC;QAEM,qBAAI,GAAX,UAAY,MAA8B;YACtC,MAAM,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC;YACvB,OAAO,IAAI,CAAC;QAChB,CAAC;;QAvHc,uBAAgB,GAAG,CAAC,CAAC;QAyHrB,qBAAc,GAAG,IAAI,CAAC;QA1H5B,MAAM;YADlB,QAAQ,CAAC,UAAU,CAAC,aAAa,EAAE;WACvB,MAAM,CA4HlB;QAAD,aAAC;KAAA,AA5HD,CAAsC,KAAK,CAAC,SAAS,GA4HpD;IA5HY,eAAM,SA4HlB,CAAA;IAED,IAAI,OAAO,CAAC,KAAK,WAAW,IAAI,CAAC,CAAC,EAAE,EAAE;QAClC,CAAC,CAAC,EAAE,CAAC,YAAY,GAAG,UAAwB,IAAS;YACjD,IAAI,OAAO,GAAG,IAAI,CAAC;YACnB,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,CAAC,gBAAgB,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,EAAE;gBAC3C,IAAI,UAAU,GAAG,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;gBAC5C,CAAC,GAAG,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBAC7B,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,EAAE;oBAC9D,CAAC,GAAG,IAAI,CAAC;iBACZ;gBACD,IAAI,CAAC,IAAI,IAAI,EAAE;oBACX,OAAO,CAAC,CAAC;iBACZ;aACJ;YAED,IAAI,IAAI,GAAG,OAAO,CAAC,IAAI,EAAE,CAAC;YAC1B,IAAI,IAAI,IAAI,IAAI,EAAE;gBACd,OAAO,IAAI,CAAC;aACf;YAED,KAAgB,UAAiB,EAAjB,KAAA,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAjB,cAAiB,EAAjB,IAAiB,EAAE;gBAA9B,IAAI,GAAG,SAAA;gBACR,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;gBACd,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,EAAE;oBAC7D,OAAO,CAAC,CAAC;iBACZ;aACJ;YAED,OAAO,IAAI,CAAC;QAChB,CAAC,CAAC;QAEF,CAAC,CAAC,EAAE,CAAC,SAAS,GAAG,UAAwB,IAAS;YAC9C,IAAI,IAAI,IAAI,IAAI,EAAE;gBACd,MAAM,IAAI,CAAC,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;aAChD;YACD,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;gBACnB,MAAM,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,qEAAqE,EAChG,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;aAChD;YAED,IAAI,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;YAChC,IAAI,CAAC,IAAI,IAAI,EAAE;gBACX,IAAI,OAAO,GAAG,CAAC,CAAC,MAAM,CAAC,oEAAoE;oBACvF,6FAA6F;oBAC7F,6FAA6F;oBAC7F,gDAAgD,EAAE,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC;gBAC/E,CAAC,CAAC,WAAW,CAAC,OAAO,EAAE,EAAE,EAAE,IAAI,CAAC,CAAC;gBACjC,MAAM,IAAI,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;aAClC;YACD,OAAO,CAAC,CAAC;QACb,CAAC,CAAC;KACL;AAsBL,CAAC,EA3OS,QAAQ,KAAR,QAAQ,QA2OjB;AC3OD,IAAU,QAAQ,CAqIjB;AArID,WAAU,QAAQ;IAGd;QAA+C,mCAAgB;QAK3D,yBAAY,SAAiB,EAAE,OAAkB;YAAjD,YACI,kBAAM,SAAS,EAAE,OAAO,CAAC,SAsB5B;YApBG,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,UAAU,GAAG,GAAG,CAAC;YAEtC,IAAI,YAAY,GAAG,KAAI,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE,KAAI,CAAC,QAAQ,CAAC,CAAC;YAEpF,2DAA2D;YAC3D,IAAI,GAAG,GAAG,CAAC,CAAC;YACZ,OAAO,IAAI,EAAE;gBACT,IAAI,GAAG,GAAG,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;gBAChD,IAAI,GAAG,GAAG,CAAC;oBACP,MAAM;gBACV,IAAI,GAAG,GAAG,YAAY,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;gBAC3C,IAAI,GAAG,GAAG,CAAC;oBACP,MAAM;gBACV,IAAI,GAAG,GAAG,YAAY,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;gBACtD,IAAI,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACvB,YAAY,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,IAAI,GAAG,YAAY,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;gBACjF,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;aAC3B;YAED,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;;QACpC,CAAC;4BA5BQ,eAAe;QA8Bd,8BAAI,GAAd,UAAe,EAAU;YACrB,OAAO,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,CAAC;QACvC,CAAC;QAEO,8BAAI,GAAZ,UAAsB,EAAU,EAAE,IAAuC;YACrE,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACzC,CAAC;QAEc,yBAAS,GAAxB,UAAyB,CAAS;YAC9B,IAAI,MAAM,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YAC5B,IAAI,MAAM,IAAI,CAAC,EAAE;gBACb,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;aAC9B;YACD,OAAO,CAAC,CAAC;QACb,CAAC;QAEO,gDAAsB,GAA9B;YACI,OAAO,iBAAe,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,CAC1C,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAClC,CAAC;QAES,yCAAe,GAAzB;YAEI,IAAI,IAAI,GAAG,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YACnC,IAAI,QAAQ,GAAG,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YAEvC,IAAI,aAAa,GAAG,iBAAe,CAAC,aAAa,CAAC;YAElD,IAAI,UAAU,GAAG,iBAAe,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YACzD,IAAI,UAAU,IAAI,IAAI,EAAE;gBACpB,OAAO,UAAU,CAAC;aACrB;YAED,OAAO,IAAI,IAAI,IAAI,KAAK,QAAQ,CAAC,MAAM,EAAE;gBACrC,IAAI,IAAI,GAAG,iBAAe,CAAC,SAAS,CAAC,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC;gBAE9D,KAAc,UAAuB,EAAvB,KAAA,CAAC,CAAC,MAAM,CAAC,cAAc,EAAvB,cAAuB,EAAvB,IAAuB,EAAE;oBAAlC,IAAI,CAAC,SAAA;oBACN,IAAI,CAAC,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE;wBAC7B,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;wBACjC,MAAM;qBACT;iBACJ;gBAED,IAAI,CAAC,CAAC,iBAAiB,CAAC,WAAW,GAAG,IAAI,CAAC,EAAE;oBACzC,aAAa,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;oBAC/B,OAAO,IAAI,CAAC;iBACf;gBAED,IAAI,GAAG,CAAC,CAAC,UAAU,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;gBACpC,IAAI,CAAC,CAAC,iBAAiB,CAAC,WAAW,GAAG,IAAI,CAAC;oBACvC,CAAC,CAAC,kBAAkB,GAAG,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;oBACzC,aAAa,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;oBAC/B,OAAO,IAAI,CAAC;iBACf;gBAED,IAAI,GAAG,iBAAe,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC;gBACtD,IAAI,CAAC,CAAC,iBAAiB,CAAC,WAAW,GAAG,IAAI,CAAC;oBACvC,CAAC,CAAC,kBAAkB,GAAG,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;oBACzC,iBAAe,CAAC,aAAa,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;oBAC/C,OAAO,IAAI,CAAC;iBACf;gBAED,IAAI,GAAG,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;aAC9B;YAED,aAAa,CAAC,QAAQ,CAAC,GAAG,UAAU,GAAG,IAAI,CAAC,sBAAsB,EAAE,CAAC;YACrE,OAAO,UAAU,CAAC;QACtB,CAAC;QAES,6CAAmB,GAA7B;YACI,OAAO,IAAI,CAAC;QAChB,CAAC;QAES,qCAAW,GAArB;YACI,IAAI,YAAY,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;YAE1C,IAAI,MAAM,GAAG,CAAC,CAAC,kBAAkB,GAAG,YAAY,CAAC,CAAC;YAClD,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;gBACnB,OAAO,MAAM,CAAC,IAAI,EAAE,CAAC;aACxB;YAED,IAAI,QAAgB,CAAC;YACrB,IAAI,CAAC,CAAC,CAAC,iBAAiB,CAAC,WAAW,GAAG,YAAY,CAAC;gBAChD,IAAI,CAAC,sBAAsB,EAAE,IAAI,YAAY,EAAE;gBAC/C,QAAQ,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBACtC,IAAI,QAAQ,IAAI,IAAI;oBAChB,OAAO,QAAQ,CAAC;aACvB;YAED,QAAQ,GAAG,CAAC,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;YAEvC,IAAI,QAAQ,IAAI,IAAI,EAAE;gBAClB,MAAM,IAAI,KAAK,CAAC,CAAC,CAAC,MAAM,CACpB,yDAAyD,EACzD,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC,CAAC;aAC9D;YAED,OAAO,QAAQ,CAAC;QACpB,CAAC;;QA7Hc,6BAAa,GAAyB,EAAE,CAAC;QAH/C,eAAe;YAD3B,QAAQ,CAAC,UAAU,CAAC,aAAa,EAAE;WACvB,eAAe,CAiI3B;QAAD,sBAAC;KAAA,AAjID,CAA+C,SAAA,MAAM,GAiIpD;IAjIY,wBAAe,kBAiI3B,CAAA;AACL,CAAC,EArIS,QAAQ,KAAR,QAAQ,QAqIjB;ACrID,IAAU,QAAQ,CAkEjB;AAlED,WAAU,QAAQ;IAEd;QAEI,4BAAoB,UAA4C,EACpD,MAA4B,EAC5B,YAAmC;YAF/C,iBASC;YATmB,eAAU,GAAV,UAAU,CAAkC;YACpD,WAAM,GAAN,MAAM,CAAsB;YAC5B,iBAAY,GAAZ,YAAY,CAAuB;YAC3C,IAAI,CAAC,IAAI,EAAE,CAAC;YACZ,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,GAAI,MAAc,CAAC,UAAU,GAAG,KAAK,EAAE,UAAA,CAAC;gBACtE,KAAI,CAAC,MAAM,EAAE,CAAC;gBACd,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACnB,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YAC7B,CAAC,CAAC,CAAC;QACP,CAAC;QAID,iCAAI,GAAJ;YAAA,iBAmBC;YAjBG,IAAI,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;gBACjC,OAAO,IAAI,CAAC;aACf;YAED,IAAI,MAAM,GAAG,CAAC,CAAC,yBAAyB,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC;iBACxE,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAEnC,IAAI,MAAM,IAAI,IAAI,EAAE;gBAChB,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,GAAI,IAAI,CAAC,MAAc,CAAC,UAAU,EAAE;oBAC7D,KAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;gBAC9B,CAAC,CAAC,CAAC;gBACH,OAAO,MAAM,CAAC;aACjB;iBACI;gBACD,CAAC,CAAC,WAAW,CAAC,8CAA8C,GAAG,IAAI,CAAC,SAAS,GAAG,GAAG,EAAE,EAAE,EAAE,IAAI,CAAC,CAAC;gBAC/F,OAAO,IAAI,CAAC;aACf;QACL,CAAC;QAED,mCAAM,GAAN;YAEI,IAAI,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;gBACjC,OAAO,IAAI,CAAC;aACf;YAED,IAAI,MAAM,GAAG,CAAC,CAAC,yBAAyB,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAE5G,IAAI,MAAM,IAAI,IAAI,EAAE;gBAChB,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,GAAI,IAAI,CAAC,MAAc,CAAC,UAAU,CAAC,CAAC;aAChE;YAED,OAAO,MAAM,CAAC;QAClB,CAAC;QAED,yCAAY,GAAZ;YACI,OAAO,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;QAED,yCAAY,GAAZ,UAAa,KAAa;YAEtB,IAAI,IAAI,CAAC,SAAS,KAAK,KAAK,EAAE;gBAC1B,IAAI,CAAC,MAAM,EAAE,CAAC;gBACd,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,IAAI,CAAC,IAAI,EAAE,CAAC;aACf;QACL,CAAC;QA9DQ,kBAAkB;YAD9B,QAAQ,CAAC,UAAU,CAAC,aAAa,CAAC,6BAA6B,CAAC;WACpD,kBAAkB,CA+D9B;QAAD,yBAAC;KAAA,AA/DD,IA+DC;IA/DY,2BAAkB,qBA+D9B,CAAA;AACL,CAAC,EAlES,QAAQ,KAAR,QAAQ,QAkEjB;AClED,IAAU,QAAQ,CAyNjB;AAzND,WAAU,QAAQ;IACd,IAAiB,YAAY,CAsL5B;IAtLD,WAAiB,YAAY;QAEzB,SAAgB,cAAc,CAAC,OAA2B;YACtD,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;YAC/C,IAAI,WAAW,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC;iBAC/C,IAAI,CAAC,MAAM,EAAE,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC;iBACtC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,UAAU,CAAC,wBAAwB,CAAC,CAAC;iBACxD,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;YAE9D,IAAI,OAAO,CAAC,aAAa,EAAE;gBACvB,WAAW,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;aAC5C;YAEA,WAAmB,CAAC,UAAU,CAAC;gBAC5B,QAAQ,EAAE,MAAM;gBAChB,QAAQ,EAAE,OAAO,CAAC,IAAI;gBACtB,SAAS,EAAE,OAAO,CAAC,IAAI;gBACvB,IAAI,EAAE,UAAU,CAAoB,EAAE,IAAS;oBAC3C,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC;oBAC3B,IAAI,OAAO,CAAC,QAAQ,IAAI,IAAI,EAAE;wBAC1B,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;qBACxD;gBACL,CAAC;gBACD,KAAK,EAAE;oBACH,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;oBAChB,IAAI,OAAO,CAAC,QAAQ,IAAI,IAAI,EAAE;wBAC1B,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;qBAC3B;gBACL,CAAC;gBACD,IAAI,EAAE;oBACF,CAAC,CAAC,SAAS,EAAE,CAAC;oBACd,IAAI,OAAO,CAAC,QAAQ,IAAI,IAAI,EAAE;wBAC1B,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;qBAC3B;gBACL,CAAC;gBACD,QAAQ,EAAE,UAAU,EAAqB,EAAE,KAAU;oBACjD,IAAI,OAAO,CAAC,QAAQ,IAAI,IAAI,EAAE;wBAC1B,IAAI,OAAO,GAAG,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC;wBAC/C,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC,QAAQ,EAAE,GAAG,GAAG,CAAC,CAAC;qBACtE;gBACL,CAAC;aACJ,CAAC,CAAC;YACH,OAAO,WAAW,CAAC;QACvB,CAAC;QAzCe,2BAAc,iBAyC7B,CAAA;QAED,SAAgB,qBAAqB,CAAC,IAAoB,EACtD,GAA0B;YAE1B,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE;gBACrC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,qCAAqC,CAAC,CAAC,CAAC;gBACvD,OAAO,KAAK,CAAC;aAChB;YACD,IAAI,GAAG,CAAC,OAAO,GAAG,CAAC,IAAI,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC,OAAO,EAAE;gBAC5C,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,yCAAyC,CAAC,EAC9D,YAAY,CAAC,eAAe,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBAChD,OAAO,KAAK,CAAC;aAChB;YACD,IAAI,GAAG,CAAC,OAAO,GAAG,CAAC,IAAI,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC,OAAO,EAAE;gBAC5C,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,uCAAuC,CAAC,EAC5D,YAAY,CAAC,eAAe,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBAChD,OAAO,KAAK,CAAC;aAChB;YACD,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;gBACf,OAAO,IAAI,CAAC;aACf;YACD,IAAI,GAAG,CAAC,QAAQ,GAAG,CAAC,IAAI,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,QAAQ,EAAE;gBAC/C,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,+BAA+B,CAAC,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACzE,OAAO,KAAK,CAAC;aAChB;YACD,IAAI,GAAG,CAAC,QAAQ,GAAG,CAAC,IAAI,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,QAAQ,EAAE;gBAC/C,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,+BAA+B,CAAC,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACzE,OAAO,KAAK,CAAC;aAChB;YACD,IAAI,GAAG,CAAC,SAAS,GAAG,CAAC,IAAI,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,SAAS,EAAE;gBAClD,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,gCAAgC,CAAC,EAAE,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;gBAC3E,OAAO,KAAK,CAAC;aAChB;YACD,IAAI,GAAG,CAAC,SAAS,GAAG,CAAC,IAAI,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,SAAS,EAAE;gBAClD,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,gCAAgC,CAAC,EAAE,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;gBAC3E,OAAO,KAAK,CAAC;aAChB;YACD,OAAO,IAAI,CAAC;QAChB,CAAC;QArCe,kCAAqB,wBAqCpC,CAAA;QAED,SAAgB,mBAAmB,CAAC,IAAY,EAAE,KAAa;YAC3D,OAAO,IAAI,GAAG,IAAI,GAAG,eAAe,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC;QACtD,CAAC;QAFe,gCAAmB,sBAElC,CAAA;QAED,SAAgB,eAAe,CAAC,KAAa;YACzC,IAAI,QAAQ,GAAG,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC;YAClD,IAAI,MAAM,GAAG,IAAI,CAAC;YAClB,IAAI,QAAQ,IAAI,IAAI,EAAE;gBAClB,QAAQ,GAAG,CAAC,CAAC,KAAK,CAAC,QAAQ,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC;gBACjD,MAAM,GAAG,IAAI,CAAC;aACjB;YACD,IAAI,SAAS,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;YACnE,IAAI,KAAK,CAAC;YACV,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;gBACtB,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aAC1D;iBACI;gBACD,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;aACxB;YACD,OAAO,KAAK,GAAG,GAAG,GAAG,MAAM,CAAC;QAChC,CAAC;QAhBe,4BAAe,kBAgB9B,CAAA;QAED,SAAgB,iBAAiB,CAAC,QAAgB;YAC9C,IAAI,CAAC,CAAC,aAAa,CAAC,QAAQ,CAAC,EAAE;gBAC3B,OAAO,KAAK,CAAC;aAChB;YACD,QAAQ,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC;YAClC,OAAO,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,OAAO,CAAC;gBAChE,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QACrE,CAAC;QAPe,8BAAiB,oBAOhC,CAAA;QAED,SAAgB,aAAa,CAAC,QAAgB;YAC1C,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;YACpC,IAAI,GAAG,GAAG,QAAQ,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;YACpC,IAAI,GAAG,IAAI,CAAC,EAAE;gBACV,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;aACtC;YACD,OAAO,QAAQ,GAAG,QAAQ,CAAC;QAC/B,CAAC;QAPe,0BAAa,gBAO5B,CAAA;QAED,SAAgB,SAAS,CAAC,QAAgB;YACtC,QAAQ,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC;YAC7D,OAAO,CAAC,CAAC,UAAU,CAAC,WAAW,CAAC,GAAG,QAAQ,CAAC;QAChD,CAAC;QAHe,sBAAS,YAGxB,CAAA;QAED,SAAgB,QAAQ,CAAC,IAAY,EAAE,OAAY;YAC9C,IAAY,CAAC,QAAQ,CAAC;gBACnB,OAAO,EAAE,CAAC,CAAC,IAAI,CAAC,sCAAsC,CAAC;gBACvD,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,oCAAoC,CAAC;gBACtD,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,mCAAmC,CAAC;gBACjD,KAAK,EAAE,CAAC,CAAC,IAAI,CAAC,oCAAoC,CAAC;aACtD,CAAC,CAAC;QACP,CAAC;QAPe,qBAAQ,WAOvB,CAAA;QAED,SAAgB,mBAAmB,CAAC,SAAiB,EAAE,KAAqB,EACxE,mBAA6B,EAAE,SAAkB;YAEjD,KAAK,GAAG,KAAK,IAAI,EAAE,CAAC;YACpB,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACnB,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,KAAK,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;gBAC/C,IAAI,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;gBACxB,IAAI,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;gBAC/D,IAAI,OAAO,GAAG,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC/C,IAAI,OAAO,EAAE;oBACT,EAAE,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;iBAC7B;qBACI;oBACD,EAAE,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;iBAC9B;gBACD,IAAI,QAAQ,GAAG,GAAG,GAAG,KAAK,CAAC;gBAC3B,IAAI,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;gBACrD,IAAI,YAAY,GAAG,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;gBACrD,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC7B,IAAI,SAAS,IAAI,IAAI,IAAI,QAAQ,IAAI,IAAI;oBACrC,CAAC,CAAC,CAAC,UAAU,CAAC,QAAQ,EAAE,YAAY,CAAC,EAAE;oBACvC,QAAQ,GAAG,SAAS,GAAG,QAAQ,CAAC;iBACnC;gBAED,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACxC,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;gBAC/B,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC,YAAY,CAAC,EAAE;oBAChC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;iBACrC;gBAED,IAAI,OAAO,EAAE;oBACT,KAAK,CAAC,GAAG,CAAC,iBAAiB,EAAE,OAAO,GAAG,SAAS,CAC5C,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;oBAC1C,QAAQ,CAAC,KAAK,EAAE,IAAI,MAAM,EAAE,CAAC,CAAC;iBACjC;gBAED,IAAI,mBAAmB,EAAE;oBACrB,CAAC,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC;yBAC9C,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;iBACjD;gBAED,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;aAC1B;QACL,CAAC;QA3Ce,gCAAmB,sBA2ClC,CAAA;IACL,CAAC,EAtLgB,YAAY,GAAZ,qBAAY,KAAZ,qBAAY,QAsL5B;AAkCL,CAAC,EAzNS,QAAQ,KAAR,QAAQ,QAyNjB;ACzND,IAAU,QAAQ,CAiNjB;AAjND,WAAU,QAAQ;IAwBd;QAAqC,mCAA8B;QAC/D,yBAAY,GAAW,EAAE,GAA2B;YAApD,YACI,kBAAM,GAAG,EAAE,GAAG,CAAC,SAyBlB;YAvBG,GAAG,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC;YAClC,GAAG,CAAC,KAAK,CAAC,UAAA,CAAC;gBACP,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,CAAC,CAAC,eAAe,EAAE,CAAC;gBACpB,IAAI,KAAI,CAAC,OAAO,CAAC,OAAO,IAAI,IAAI,EAAE;oBAC9B,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;iBAC1B;gBAED,IAAI,IAAI,GAAG,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC;gBAC7B,IAAI,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC;oBACjB,EAAE,EAAE,CAAC,CAAC,QAAQ,CAAC,KAAI,CAAC,OAAO,CAAC,UAAU,EAAE,UAAU,CAAC;oBACnD,EAAE,EAAE,CAAC,CAAC,QAAQ,CAAC,KAAI,CAAC,OAAO,CAAC,UAAU,EAAE,aAAa,CAAC;oBACtD,EAAE,EAAE,KAAI,CAAC,OAAO;iBACnB,CAAC,CAAC;gBAEH,IAAI,EAAE,GAAG,KAAI,CAAC,UAAU,CAAC;gBACzB,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,QAAQ,GAAG,EAAE,EAAE,UAAU,CAAC;oBACtC,IAAI,CAAC,IAAI,EAAE,CAAC;gBAChB,CAAC,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;YAEH,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC;iBAC3C,QAAQ,CAAC,aAAa,CAAC,CAAC,IAAI,EAAE,CAAC;;QACxC,CAAC;QAED,iCAAO,GAAP;YACI,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,EAAE;gBAC3B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;gBAC3B,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC;aAC5B;YAED,iBAAM,OAAO,WAAE,CAAC;QACpB,CAAC;QApCQ,eAAe;YAD3B,SAAA,UAAU,CAAC,cAAc,CAAC,0BAA0B,CAAC;WACzC,eAAe,CAqC3B;QAAD,sBAAC;KAAA,AArCD,CAAqC,SAAA,MAAM,GAqC1C;IArCY,wBAAe,kBAqC3B,CAAA;IAOD;QAAqC,mCAAe;QAChD,yBAAY,GAAW,EAAE,GAA2B;YAApD,YACI,kBAAM,GAAG,EAAE,GAAG,CAAC,SAIlB;YAFG,GAAG,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC;YAClC,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;;QACvE,CAAC;QANQ,eAAe;YAD3B,SAAA,UAAU,CAAC,cAAc,CAAC,0BAA0B,CAAC;WACzC,eAAe,CAO3B;QAAD,sBAAC;KAAA,AAPD,CAAqC,eAAe,GAOnD;IAPY,wBAAe,kBAO3B,CAAA;IAQD;QAA6B,2BAAsB;QAC/C,iBAAY,GAAW,EAAE,OAAuB;YAAhD,YACI,kBAAM,GAAG,EAAE,OAAO,CAAC,SAUtB;YARG,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,oBAAoB,CAAC;iBACtC,IAAI,CAAC,uDAAuD;gBACzD,+CAA+C,CAAC,CAAC;YACzD,IAAI,SAAS,GAAG,CAAC,CAAC,mBAAmB,EAAE,KAAI,CAAC,OAAO,CAAC,CAAC;YACrD,IAAI,OAAO,GAAG,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC;YACnC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACrC,KAAI,CAAC,YAAY,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;aAC5C;;QACL,CAAC;QAED,yBAAO,GAAP;YACI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YACrD,IAAI,IAAI,CAAC,SAAS,EAAE;gBAChB,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;oBAC1B,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;iBAC5B;qBACI;oBACD,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;iBAC1B;gBACD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;aACzB;YAED,iBAAM,OAAO,WAAE,CAAC;QACpB,CAAC;QAIS,8BAAY,GAAtB,UAAuB,SAAiB,EAAE,CAAa;YACnD,IAAI,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;YAE1C,IAAI,CAAC,CAAC,SAAS,KAAK,IAAI,IAAI,CAAC,CAAC,SAAS,KAAK,MAAM,IAAI,CAAC,CAAC,SAAS,KAAK,MAAM,EAAE;gBAC1E,CAAC,CAAC,+BAA+B,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;aAC1D;YAED,IAAI,GAAG,GAAG,CAAC,CAAC,qDAAqD;gBAC7D,gDAAgD,CAAC;iBAChD,QAAQ,CAAC,SAAS,CAAC,CAAC;YAEzB,IAAI,CAAC,CAAC,SAAS,KAAK,OAAO,IAAI,CAAC,CAAC,SAAS,KAAK,MAAM,EAAE;gBACnD,CAAC,CAAC,+BAA+B,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;aAC1D;YAED,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;gBACjC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;aACvB;YAEQ,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE;gBACtC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC;aAC1B;YAEQ,GAAG,CAAC,KAAK,CAAC,UAAU,CAAC;gBAC7B,IAAI,GAAG,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;oBAC7B,OAAO;iBACP;gBACD,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;YAEZ,IAAI,IAAI,GAAG,CAAC,CAAC,KAAK,CAAC;YACnB,IAAI,CAAC,CAAC,UAAU,KAAK,KAAK,EAAE;gBAC3B,IAAI,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;aACpB;YAED,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE;gBACtC,GAAG,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;gBACjC,IAAI,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC;gBACnB,IAAI,CAAC,CAAC,UAAU,CAAC,KAAK,EAAE,KAAK,CAAC,EAAE;oBAC/B,KAAK,GAAG,KAAK,GAAG,KAAK,CAAC;iBACV;qBACI,IAAI,CAAC,CAAC,UAAU,CAAC,KAAK,EAAE,YAAY,CAAC,EAAE;oBACvD,KAAK,GAAG,YAAY,GAAG,KAAK,CAAC;iBAC7B;gBACD,IAAI,GAAG,YAAY,GAAG,KAAK,GAAG,SAAS,GAAG,IAAI,CAAC;aAC/C;YACD,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;gBACtC,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;aACxB;iBACI;gBACJ,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACnB;YAED,IAAI,CAAC,CAAC,OAAO,KAAK,KAAK;gBACnB,GAAG,CAAC,IAAI,EAAE,CAAC;YAEf,IAAI,CAAC,CAAC,QAAQ,IAAI,IAAI,IAAI,OAAO,CAAC,CAAC,QAAQ,KAAK,UAAU;gBACtD,GAAG,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;YAE9C,IAAI,OAAO,CAAC,CAAC,OAAO,KAAK,UAAU,IAAI,OAAO,CAAC,CAAC,QAAQ,IAAI,UAAU,EAAE;gBACpE,GAAG,CAAC,EAAE,CAAC,iBAAiB,EAAE;oBACtB,IAAI,OAAO,CAAC,CAAC,OAAO,KAAK,UAAU;wBAC/B,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;oBAE9B,IAAI,OAAO,CAAC,CAAC,QAAQ,KAAK,UAAU;wBAChC,GAAG,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;gBACpD,CAAC,CAAC,CAAC;aACN;YAED,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,MAAM,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,EAAE;gBAC/D,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,IAAI,MAAM,CAAC,WAAW,CAAC,CAClD,CAAC,CAAC,aAAa,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,IAAI,MAAM,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC;gBAEtF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,EAAE,UAAU,EAAyB,EAAE,MAAW;oBACzF,IAAI,GAAG,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE;wBACvB,GAAG,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;qBAC5B;oBACD,OAAO,CAAC,CAAC,kBAAkB,CAAC;gBAC7B,CAAC,CAAC,CAAC;aACH;QACI,CAAC;QAED,4BAAU,GAAV,UAAW,SAAiB;YACxB,IAAI,SAAS,IAAI,IAAI,IAAI,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,CAAC,EAAE;gBACnD,SAAS,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;aACnC;YACD,OAAO,CAAC,CAAC,kBAAkB,GAAG,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QAC3D,CAAC;QAED,iCAAe,GAAf;YACI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,UAAU,CAAS,EAAE,EAAW;gBACnE,CAAC,CAAC,EAAE,CAAC,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAA;YAC3C,CAAC,CAAC,CAAC;QACP,CAAC;QA5HQ,OAAO;YADnB,SAAA,UAAU,CAAC,aAAa,CAAC,kBAAkB,CAAC;WAChC,OAAO,CA6HnB;QAAD,cAAC;KAAA,AA7HD,CAA6B,SAAA,MAAM,GA6HlC;IA7HY,gBAAO,UA6HnB,CAAA;AACL,CAAC,EAjNS,QAAQ,KAAR,QAAQ,QAiNjB;ACjND,IAAU,QAAQ,CAuPjB;AAvPD,WAAU,QAAQ;IAEd,IAAiB,WAAW,CAoP3B;IApPD,WAAiB,WAAW;QAExB,SAAgB,cAAc,CAAC,MAA4B;YAEvD,IAAI,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAE7C,IAAI,OAAO,IAAI,IAAI,EAAE;gBACjB,IAAI,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;gBAC1C,IAAI,IAAI,IAAI,IAAI;oBACZ,OAAO,EAAE,CAAC;gBAEd,OAAO,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;aACpC;YAED,IAAI,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC;YAC7B,IAAI,KAAK,IAAI,IAAI,EAAE;gBACf,OAAO,EAAE,CAAC;aACb;YAED,IAAI,OAAO,KAAK,KAAK,QAAQ;gBACzB,OAAO,KAAK,CAAC;YAEjB,IAAI,KAAK,YAAY,OAAO;gBACxB,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,yCAAyC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC;oBAC3F,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,yCAAyC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC;YAEtF,OAAO,KAAK,CAAC,QAAQ,EAAE,CAAC;QAC5B,CAAC;QAzBe,0BAAc,iBAyB7B,CAAA;QAED,IAAI,KAAK,GAAiB,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC;QAExC,SAAgB,QAAQ,CAAC,MAA4B;YACjD,IAAI,MAAM,GAAG,EAAE,CAAC;YAChB,SAAS,CAAC,MAAM,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;YACjC,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC;QACvB,CAAC;QAJe,oBAAQ,WAIvB,CAAA;QAED,SAAgB,SAAS,CAAC,MAA4B,EAAE,IAAkB,EAAE,MAAW;YAEnF,IAAI,YAAY,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,aAAa,CAAC,CAAC;YAE9D,IAAI,YAAY,IAAI,IAAI,EAAE;gBACtB,YAAY,CAAC,YAAY,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;gBACxC,OAAO;aACV;YAED,IAAI,WAAW,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,YAAY,CAAC,CAAC;YAC5D,IAAI,WAAW,IAAI,IAAI,EAAE;gBACrB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,WAAW,CAAC,SAAS,EAAE,CAAC;gBAC5C,OAAO;aACV;YAED,IAAI,YAAY,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,aAAa,CAAC,CAAC;YAC9D,IAAI,YAAY,IAAI,IAAI,EAAE;gBACtB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,YAAY,CAAC,SAAS,EAAE,CAAC;gBAC7C,OAAO;aACV;YAED,IAAI,WAAW,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,YAAY,CAAC,CAAC;YAC5D,IAAI,WAAW,IAAI,IAAI,EAAE;gBACrB,IAAI,KAAK,GAAG,WAAW,CAAC,SAAS,EAAE,CAAC;gBACpC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;gBAClD,OAAO;aACV;YAED,IAAK,MAAc,CAAC,YAAY,IAAI,IAAI,EAAE;gBACrC,MAAc,CAAC,YAAY,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;gBAC3C,OAAO;aACV;YAED,IAAI,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE;gBAC7B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;gBACzC,OAAO;aACV;QACL,CAAC;QArCe,qBAAS,YAqCxB,CAAA;QAED,SAAgB,QAAQ,CAAC,MAA4B,EAAE,KAAU;YAC7D,IAAI,MAAM,GAAG,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC;YAC1B,SAAS,CAAC,MAAM,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;QACrC,CAAC;QAHe,oBAAQ,WAGvB,CAAA;QAED,SAAgB,SAAS,CAAC,MAA4B,EAAE,IAAkB,EAAE,MAAW;YAEnF,IAAI,YAAY,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,aAAa,CAAC,CAAC;YAC9D,IAAI,YAAY,IAAI,IAAI,EAAE;gBACtB,YAAY,CAAC,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;gBACxC,OAAO;aACV;YAED,IAAI,WAAW,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,YAAY,CAAC,CAAC;YAC5D,IAAI,WAAW,IAAI,IAAI,EAAE;gBACrB,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC9B,IAAI,KAAK,IAAI,IAAI,EAAE;oBACf,KAAK,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;iBAC5B;gBACD,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC;gBAC7C,OAAO;aACV;YAED,IAAI,YAAY,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,aAAa,CAAC,CAAC;YAC9D,IAAI,YAAY,IAAI,IAAI,EAAE;gBACtB,IAAI,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC/B,IAAI,OAAO,CAAC,MAAM,CAAC,KAAK,QAAQ,EAAE;oBAC9B,YAAY,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;iBACtC;qBACI;oBACD,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;iBACpC;gBACD,OAAO;aACV;YAED,IAAI,WAAW,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,YAAY,CAAC,CAAC;YAC5D,IAAI,WAAW,IAAI,IAAI,EAAE;gBACrB,IAAI,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC1B,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,gBAAgB,CAAC,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE;oBACvF,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;iBAC/B;qBACI,IAAI,CAAC,CAAC,gBAAgB,CAAC,CAAC,EAAE,MAAM,CAAC,EAAE;oBACpC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC;iBAC5E;qBACI,IAAI,CAAC,CAAC,gBAAgB,CAAC,CAAC,EAAE,OAAO,CAAC,EAAE;oBACrC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;iBACxC;qBACI;oBACD,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC;iBAC5C;gBACD,OAAO;aACV;YAED,IAAK,MAAc,CAAC,YAAY,IAAI,IAAI,EAAE;gBACrC,MAAc,CAAC,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;gBAC3C,OAAO;aACV;YAED,IAAI,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE;gBAC7B,IAAI,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC1B,IAAI,CAAC,IAAI,IAAI,EAAE;oBACX,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;iBAC1B;qBACI;oBACD,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;iBACzB;gBACD,OAAO;aACV;QACL,CAAC;QA/De,qBAAS,YA+DxB,CAAA;QAED,SAAgB,WAAW,CAAC,QAAgB,EAAE,UAAmB;YAC7D,QAAQ,CAAC,IAAI,CAAC,UAAU,KAAK,EAAE,EAAE;gBAC7B,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;gBAChB,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBAC5B,IAAI,GAAG,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,IAAI,KAAK,OAAO,IAAI,IAAI,KAAK,UAAU,EAAE;oBAC7D,IAAI,UAAU,EAAE;wBACZ,GAAG,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;qBACzD;yBACI;wBACD,GAAG,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;qBACtD;iBACJ;qBACI,IAAI,UAAU,EAAE;oBACjB,GAAG,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;iBACzD;qBACI;oBACD,GAAG,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;iBACtD;gBACD,OAAO,IAAI,CAAC;YAChB,CAAC,CAAC,CAAC;YACH,OAAO,QAAQ,CAAC;QACpB,CAAC;QArBe,uBAAW,cAqB1B,CAAA;QAED,SAAgB,WAAW,CAAC,MAA4B,EAAE,UAAmB;YAEzE,IAAI,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,SAAS,CAAC,CAAC;YAEtD,IAAI,QAAQ,IAAI,IAAI,EAAE;gBAClB,QAAQ,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;aACrC;iBACI,IAAI,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE;gBAClC,WAAW,CAAC,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;aAC3C;QACL,CAAC;QAVe,uBAAW,cAU1B,CAAA;QAED,SAAgB,WAAW,CAAC,MAA4B,EAAE,UAAmB;YACzE,IAAI,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,SAAA,iBAAiB,CAAC,CAAC;YAChD,IAAI,GAAG,IAAI,IAAI,EAAE;gBACb,GAAG,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;aAChC;iBACI,IAAI,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE;gBAClC,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC;aACxD;YACD,IAAI,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YACjD,IAAI,UAAU,GAAG,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC;YACxD,IAAI,UAAU,IAAI,CAAC,UAAU,EAAE;gBAC3B,CAAC,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,IAAI,CAAC,oCAAoC,CAAC,CAAC;qBACxE,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aACjD;iBACI,IAAI,CAAC,UAAU,IAAI,UAAU,EAAE;gBAChC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC;aACxC;QACL,CAAC;QAjBe,uBAAW,cAiB1B,CAAA;QAED,SAAgB,oBAAoB,CAAC,SAAiB,EAAE,QAAiB;YAErE,IAAI,CAAC,QAAQ,EAAE;gBAEX,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,oBAAoB,CAAC;oBACzC,OAAO;gBAEX,SAAS,CAAC,WAAW,CAAC,oBAAoB,CAAC,CAAC,IAAI,CAAC,4BAA4B,CAAC;qBACzE,WAAW,CAAC,oBAAoB,CAAC,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC;oBACzC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;oBAC3C,IAAI,CAAC,IAAI,IAAI;wBACT,QAAQ,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;;wBAE3C,QAAQ,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;gBACtD,CAAC,CAAC,CAAC;gBAEP,OAAO;aACV;YAED,SAAS,CAAC,QAAQ,CAAC,oBAAoB,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;iBACnD,GAAG,CAAC,qBAAqB,CAAC;iBAC1B,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC;gBACP,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBAC3C,IAAI,CAAC,IAAI,IAAI,EAAE;oBAEX,IAAI,CAAC,CAAC,cAAc,CAAC,EAAE;wBACnB,IAAI,CAAC,CAAC,cAAc,CAAC,EAAE;4BACnB,OAAO;qBACd;yBACI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,WAAW,CAAC;wBACnG,OAAO;oBAEX,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,oBAAoB,CAAC,CAAC;oBACpC,QAAQ,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;iBAE7C;qBACI;oBACD,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,WAAW,CAAC;wBAC9F,OAAO;oBAEX,QAAQ,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,oBAAoB,CAAC,EAAE,IAAI,CAAC,CAAC;iBAC/E;YACL,CAAC,CAAC,CAAC;QACX,CAAC;QA3Ce,gCAAoB,uBA2CnC,CAAA;IACL,CAAC,EApPgB,WAAW,GAAX,oBAAW,KAAX,oBAAW,QAoP3B;AACL,CAAC,EAvPS,QAAQ,KAAR,QAAQ,QAuPjB;ACvPD,IAAU,QAAQ,CAkCjB;AAlCD,WAAU,QAAQ;IACd,IAAiB,cAAc,CAgC9B;IAhCD,WAAiB,cAAc;QAC3B,IAAI,aAAa,GAAG,CAAC,CAAC;QAEtB,SAAgB,oBAAoB,CAAC,OAAe,EAAE,QAAkB;YACpE,IAAI,EAAE,GAAG,OAAO,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC;YAC/B,IAAI,CAAC,EAAE;gBACH,OAAO;YAEX,IAAI,EAAE,CAAC,WAAW,GAAG,CAAC,IAAI,EAAE,CAAC,YAAY,GAAG,CAAC,EAAE;gBAC3C,QAAQ,EAAE,CAAC;gBACX,OAAO;aACV;YAED,IAAI,KAAK,GAAG,CAAC,CAAC,WAAW,CAAC,OAAO,CAAC,cAAM,OAAA,EAAE,EAAF,CAAE,EAAE;gBACxC,CAAC,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACzB,QAAQ,EAAE,CAAC;YACf,CAAC,CAAC,CAAC;QACP,CAAC;QAde,mCAAoB,uBAcnC,CAAA;QAED,SAAgB,yBAAyB,CAAC,OAAe,EAAE,QAAkB,EAAE,gBAAyB;YACpG,IAAI,EAAE,GAAG,OAAO,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC;YAC/B,IAAI,CAAC,EAAE;gBACH,OAAO;YAEX,IAAI,gBAAgB,IAAI,EAAE,CAAC,WAAW,GAAG,CAAC,IAAI,EAAE,CAAC,YAAY,GAAG,CAAC,EAAE;gBAC/D,QAAQ,EAAE,CAAC;aACd;YAED,CAAC,CAAC,WAAW,CAAC,OAAO,CAAC,cAAM,OAAA,EAAE,EAAF,CAAE,EAAE;gBAC5B,QAAQ,EAAE,CAAC;YACf,CAAC,CAAC,CAAC;QACP,CAAC;QAZe,wCAAyB,4BAYxC,CAAA;IACL,CAAC,EAhCgB,cAAc,GAAd,uBAAc,KAAd,uBAAc,QAgC9B;AACL,CAAC,EAlCS,QAAQ,KAAR,QAAQ,QAkCjB;AClCD,IAAU,QAAQ,CA+CjB;AA/CD,WAAU,QAAQ;IACd,IAAiB,eAAe,CA6C/B;IA7CD,WAAiB,eAAe;QAC5B,SAAgB,gBAAgB,CAAC,MAAW,EAAE,KAA2B,EACrE,UAAiD,EAAE,UAAoB;YACvE,IAAI,UAAU,GAAI,KAAa,CAAC,UAAU,CAAC;YAC3C,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,GAAG,UAAU,EAAE,UAAU,CAAoB,EAAE,GAAQ;gBACtF,IAAI,UAAU,EAAE;oBACZ,MAAM,CAAC,UAAU,CAAC;wBACd,UAAU,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;oBACvB,CAAC,EAAE,CAAC,CAAC,CAAC;iBACT;qBACI;oBACD,UAAU,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;iBACtB;YACL,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,GAAG,UAAU,EAAE;gBAC5B,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,eAAe,GAAG,UAAU,CAAC,CAAC;YACxD,CAAC,CAAC,CAAC;YACH,OAAO,MAAM,CAAC;QAClB,CAAC;QAhBe,gCAAgB,mBAgB/B,CAAA;QAED,SAAgB,iBAAiB,CAAC,MAA4B;YAC1D,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;YAC9C,OAAO,MAAM,CAAC;QAClB,CAAC;QAHe,iCAAiB,oBAGhC,CAAA;QAED,SAAgB,kBAAkB,CAAC,OAAe;YAC9C,OAAO,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;YACvC,OAAO,OAAO,CAAC;QACnB,CAAC;QAHe,kCAAkB,qBAGjC,CAAA;QAED,SAAgB,gBAAgB,CAAC,MAAW,EAAE,KAA2B,EAAE,UAAoB;YAC3F,OAAO,gBAAgB,CAAC,MAAM,EAAE,KAAK,EAAE,UAAU,CAAC,EAAE,GAAG;gBACnD,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;YACjD,CAAC,EAAE,UAAU,CAAC,CAAC;QACnB,CAAC;QAJe,gCAAgB,mBAI/B,CAAA;QAED,SAAgB,OAAO,CAAC,cAAmB,EAAE,SAAiB;YAC1D,cAAc,CAAC,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,UAAU,CAAoB;gBACnE,cAAc,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,MAAM,CAAC,QAAQ,EAAE,UAAU,EAAE,oBAAoB,CAAC,SAAS,CAAC,CAAC,CAAC;YAClG,CAAC,CAAC,CAAC;YACH,OAAO,cAAc,CAAC;QAC1B,CAAC;QALe,uBAAO,UAKtB,CAAA;QAED,SAAgB,oBAAoB,CAAC,OAAe;YAChD,OAAO,EAAE,EAAE,EAAE,UAAU,EAAE,EAAE,EAAE,gBAAgB,EAAE,EAAE,EAAE,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC;QACpE,CAAC;QAFe,oCAAoB,uBAEnC,CAAA;IACL,CAAC,EA7CgB,eAAe,GAAf,wBAAe,KAAf,wBAAe,QA6C/B;AACL,CAAC,EA/CS,QAAQ,KAAR,QAAQ,QA+CjB;AC/CD,IAAU,QAAQ,CAajB;AAbD,WAAU,QAAQ;IACd;QACI,yBAA4B,QAAgB;YAAhB,aAAQ,GAAR,QAAQ,CAAQ;QAC5C,CAAC;QAED,8BAAI,GAAJ,UAAK,EAAU;YACX,OAAO,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,CAAC;QACvC,CAAC;QAED,2BAAC,GAAD,UAAW,EAAU,EAAE,IAAuC;YAC1D,OAAO,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,CAAC,SAAS,CAAU,IAAI,CAAC,CAAC;QAChE,CAAC;QACL,sBAAC;IAAD,CAAC,AAXD,IAWC;IAXY,wBAAe,kBAW3B,CAAA;AACL,CAAC,EAbS,QAAQ,KAAR,QAAQ,QAajB;ACbD,IAAU,QAAQ,CAqDjB;AArDD,WAAU,QAAQ;IAEd,SAAS,kBAAkB;QACvB,IAAI,OAAO,CAAC,IAAI,WAAW,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS;YAC1E,OAAO,KAAK,CAAC;QACjB,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,KAAU;YAC1D,IAAI,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,MAAM,EAAE;gBAC9C,OAAO,IAAI,CAAC;aACf;YACD,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,kEAAkE,CAAC,CAAC,MAAM,CAAC;QAChH,CAAC,CAAC;QAEF,CAAC,UAAU,IAAI;YACX,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,cAAc,GAAG;gBACnC,IAAI,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE;oBAC5C,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;oBACvC,OAAO;iBACV;gBACD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACpB,CAAC,CAAA;QACL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;QAEzC,CAAC,UAAU,IAAI;YACX,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,eAAe,GAAG;gBACpC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAChB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;YAC9F,CAAC,CAAA;QACL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC;IAC9C,CAAC;IAED,CAAC,kBAAkB,EAAE,IAAI,OAAO,CAAC,KAAK,WAAW,IAAI,CAAC,CAAC,kBAAkB,CAAC,CAAC;IAE3E,IAAI,OAAO,CAAC,KAAK,WAAW,EAAE;QACzB,CAAS,CAAC,SAAS,GAAG,CAAC,UAAU,IAAI;YAClC,OAAO,UAAU,KAAY;gBACzB,IAAI,MAAM,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;gBACvB,IAAI,MAAM,GAAG,KAAK,CAAC;gBACnB,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC,EAAE,EAAE;oBACzC,IAAI;wBACA,MAAM,GAAI,CAAS,CAAC,KAAK,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;wBAC1C,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,EAAE;4BACzB,iEAAiE;4BACjE,IAAI,MAAM,KAAK,KAAK;gCAChB,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;4BAC/C,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;4BACjC,OAAO,MAAM,CAAC,MAAM,CAAC;yBACxB;qBACJ;oBAAC,OAAO,CAAC,EAAE,GAAG;iBAClB;gBACD,IAAI,CAAC,KAAK,CAAC,CAAC;YAChB,CAAC,CAAC;QACN,CAAC,CAAC,CAAE,CAAS,CAAC,SAAS,CAAC,CAAC;KAC5B;AACL,CAAC,EArDS,QAAQ,KAAR,QAAQ,QAqDjB","sourcesContent":["namespace Serenity {\r\n\r\n    export namespace Decorators {\r\n        function distinct(arr: any[]) {\r\n            return arr.filter((item, pos) => arr.indexOf(item) === pos);\r\n        }\r\n\r\n        function merge(arr1: any[], arr2: any[]) {\r\n            if (!arr1 || !arr2)\r\n                return (arr1 || arr2 || []).slice();\r\n\r\n            return distinct(arr1.concat(arr2));\r\n        }\r\n\r\n        function registerType(target: any, name: string, intf: any[]) {\r\n            if (name != null) {\r\n                target.__typeName = name;\r\n                Q.types[name] = target;\r\n            }\r\n            else if (!target.__typeName)\r\n                target.__register = true;\r\n            else \r\n                Q.types[target.__typeName] = target;\r\n\r\n            if (intf)\r\n                target.__interfaces = merge(target.__interfaces, intf);\r\n        }\r\n\r\n        export function registerClass(nameOrIntf?: string | any[], intf2?: any[]) {\r\n            return function (target: Function) {\r\n                if (typeof nameOrIntf == \"string\")\r\n                    registerType(target, nameOrIntf, intf2);\r\n                else\r\n                    registerType(target, null, nameOrIntf);\r\n\r\n                (target as any).__class = true;\r\n            }\r\n        }\r\n\r\n        export function registerInterface(nameOrIntf?: string | any[], intf2?: any[]) {\r\n            return function (target: Function) {\r\n\r\n                if (typeof nameOrIntf == \"string\")\r\n                    registerType(target, nameOrIntf, intf2);\r\n                else\r\n                    registerType(target, null, nameOrIntf);\r\n\r\n                (target as any).__interface = true;\r\n                (target as any).isAssignableFrom = function (type: any) {\r\n                    return type.__interfaces != null && type.__interfaces.indexOf(this) >= 0;\r\n                };\r\n            }\r\n        }\r\n\r\n        export function registerEditor(nameOrIntf?: string | any[], intf2?: any[]) {\r\n            return registerClass(nameOrIntf, intf2);\r\n        }\r\n\r\n        export function addAttribute(type: any, attr: any) {\r\n            type.__metadata = type.__metadata || {};\r\n            type.__metadata.attr = type.__metadata.attr || [];\r\n            type.__metadata.attr.push(attr);\r\n        }\r\n    }\r\n\r\n    Serenity.Decorators.registerInterface('Serenity.ISlickFormatter')(ISlickFormatter);   \r\n\r\n    @Serenity.Decorators.registerClass('Serenity.EnumKeyAttribute')\r\n    export class EnumKeyAttribute {\r\n        constructor(public value: string) {\r\n        }\r\n    }\r\n\r\n    export namespace Decorators {\r\n\r\n        export function enumKey(value: string) {\r\n            return function (target: Function) {\r\n                addAttribute(target, new EnumKeyAttribute(value));\r\n            }\r\n        }\r\n\r\n        export function registerEnum(target: any, enumKey?: string, name?: string) {\r\n            if (!target.__enum) {\r\n                Object.defineProperty(target, '__enum', {\r\n                    get: function () {\r\n                        return true;\r\n                    }\r\n                });\r\n\r\n                target.prototype = target.prototype || {};\r\n                for (var k of Object.keys(target))\r\n                    if (isNaN(Q.parseInteger(k)) && target[k] != null && !isNaN(Q.parseInteger(target[k])))\r\n                        target.prototype[k] = target[k];\r\n\r\n                if (name != null) {\r\n                    target.__typeName = name;\r\n                    Q.types[name] = target;\r\n                }\r\n                else if (!target.__typeName)\r\n                    target.__register = true;\r\n\r\n                if (enumKey)\r\n                    addAttribute(target, new EnumKeyAttribute(enumKey));\r\n            }\r\n        }\r\n\r\n        export function registerEnumType(target: any, name?: string, enumKey?: string) {\r\n            registerEnum(target, Q.coalesce(enumKey, name), name);\r\n        }\r\n    }\r\n\r\n    Serenity.Decorators.registerEnum(SummaryType, 'Serenity.SummaryType');\r\n}\r\n\r\nnamespace System.ComponentModel {\r\n\r\n    @Serenity.Decorators.registerClass('System.DisplayNameAttribute')\r\n    export class DisplayNameAttribute {\r\n        constructor(public displayName: string) {\r\n        }\r\n    }\r\n}\r\n\r\nnamespace Serenity {\r\n\r\n    function Attr(name: string) {\r\n        return Serenity.Decorators.registerClass('Serenity.' + name + 'Attribute')\r\n    }\r\n\r\n    @Attr('Category')\r\n    export class CategoryAttribute {\r\n        constructor(public category: string) {\r\n        }\r\n    }\r\n\r\n    @Attr('ColumnsKey')\r\n    export class ColumnsKeyAttribute {\r\n        constructor(public value: string) {\r\n        }\r\n    }\r\n\r\n\r\n    @Attr('CssClass')\r\n    export class CssClassAttribute {\r\n        constructor(public cssClass: string) {\r\n        }\r\n    }\r\n\r\n    @Attr('DefaultValue')\r\n    export class DefaultValueAttribute {\r\n        constructor(public value: any) {\r\n        }\r\n    }\r\n\r\n    @Attr('DialogType')\r\n    export class DialogTypeAttribute {\r\n        constructor(public value: any) {\r\n        }\r\n    }\r\n\r\n    @Attr('Editor')\r\n    export class EditorAttribute {\r\n        constructor() { }\r\n        key: string;\r\n    }\r\n\r\n    @Attr('EditorOption')\r\n    export class EditorOptionAttribute {\r\n        constructor(public key: string, public value: any) {\r\n        }\r\n    }\r\n\r\n    @Serenity.Decorators.registerClass('Serenity.EditorTypeAttributeBase')\r\n    export class EditorTypeAttributeBase {\r\n        constructor(public editorType: string) {\r\n        }\r\n\r\n        public setParams(editorParams: any): void {\r\n        }\r\n    }\r\n\r\n    @Attr('EditorType')\r\n    export class EditorTypeAttribute extends EditorTypeAttributeBase {\r\n        constructor(editorType: string) {\r\n            super(editorType);\r\n        }\r\n    }\r\n\r\n    @Attr('Element')\r\n    export class ElementAttribute {\r\n        constructor(public value: string) {\r\n        }\r\n    }\r\n\r\n    @Attr('EntityType')\r\n    export class EntityTypeAttribute {\r\n        constructor(public value: string) {\r\n        }\r\n    }\r\n\r\n    @Attr('Filterable')\r\n    export class FilterableAttribute {\r\n        constructor(public value = true) {\r\n        }\r\n    }\r\n\r\n    @Attr('FormKey')\r\n    export class FormKeyAttribute {\r\n        constructor(public value: string) {\r\n        }\r\n    }\r\n\r\n    @Attr('GeneratedCode')\r\n    export class GeneratedCodeAttribute {\r\n        constructor(public origin?: string) {\r\n        }\r\n    }\r\n\r\n    @Attr('Hidden')\r\n    export class HiddenAttribute {\r\n        constructor() {\r\n        }\r\n    }\r\n\r\n    @Attr('Hint')\r\n    export class HintAttribute {\r\n        constructor(public hint: string) {\r\n        }\r\n    }\r\n\r\n    @Attr('IdProperty')\r\n    export class IdPropertyAttribute {\r\n        constructor(public value: string) {\r\n        }\r\n    }\r\n\r\n    @Attr('Insertable')\r\n    export class InsertableAttribute {\r\n        constructor(public value = true) {\r\n        }\r\n    }\r\n\r\n    @Attr('IsActiveProperty')\r\n    export class IsActivePropertyAttribute {\r\n        constructor(public value: string) {\r\n        }\r\n    }\r\n\r\n    @Attr('ItemName')\r\n    export class ItemNameAttribute {\r\n        constructor(public value: string) {\r\n        }\r\n    }\r\n\r\n    @Attr('LocalTextPrefix')\r\n    export class LocalTextPrefixAttribute {\r\n        constructor(public value: string) {\r\n        }\r\n    }\r\n\r\n    @Attr('Maximizable')\r\n    export class MaximizableAttribute {\r\n        constructor(public value = true) {\r\n        }\r\n    }\r\n\r\n    @Attr('MaxLength')\r\n    export class MaxLengthAttribute {\r\n        constructor(public maxLength: number) {\r\n        }\r\n    }\r\n\r\n    @Attr('NameProperty')\r\n    export class NamePropertyAttribute {\r\n        constructor(public value: string) {\r\n        }\r\n    }\r\n\r\n    @Attr('OneWay')\r\n    export class OneWayAttribute {\r\n    }\r\n\r\n    @Attr('Option')\r\n    export class OptionAttribute {\r\n        constructor() {\r\n        }\r\n    }\r\n\r\n    @Attr('OptionsType')\r\n    export class OptionsTypeAttribute {\r\n        constructor(public value: Function) {\r\n        }\r\n    }\r\n\r\n    @Attr('Panel')\r\n    export class PanelAttribute {\r\n        constructor(public value = true) {\r\n        }\r\n    }\r\n\r\n    @Attr('Placeholder')\r\n    export class PlaceholderAttribute {\r\n        constructor(public value: string) {\r\n        }\r\n    }\r\n\r\n    @Attr('ReadOnly')\r\n    export class ReadOnlyAttribute {\r\n        constructor(public value = true) {\r\n        }\r\n    }\r\n\r\n    @Attr('Required')\r\n    export class RequiredAttribute {\r\n        constructor(public isRequired = true) {\r\n        }\r\n    }\r\n\r\n    @Attr('Resizable')\r\n    export class ResizableAttribute {\r\n        constructor(public value = true) {\r\n        }\r\n    }\r\n\r\n    @Attr('Responsive')\r\n    export class ResponsiveAttribute {\r\n        constructor(public value = true) {\r\n        }\r\n    }\r\n\r\n    @Attr('Service')\r\n    export class ServiceAttribute {\r\n        constructor(public value: string) {\r\n        }\r\n    }\r\n\r\n    @Attr('Updatable')\r\n    export class UpdatableAttribute {\r\n        constructor(public value = true) {\r\n        }\r\n    }\r\n\r\n    export namespace Decorators {\r\n\r\n        export function option() {\r\n            return function (target: Object, propertyKey: string): void {\r\n\r\n                var isGetSet = Q.startsWith(propertyKey, 'get_') || Q.startsWith(propertyKey, 'set_');\r\n                var memberName = isGetSet ? propertyKey.substr(4) : propertyKey;\r\n\r\n                var type: any = target.constructor;\r\n                type.__metadata = type.__metadata || {};\r\n                type.__metadata.members = type.__metadata.members || [];\r\n                let member: any = undefined;\r\n                for (var m of type.__metadata.members) {\r\n                    if (m.name == memberName) {\r\n                        member = m;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (!member) {\r\n                    member = {\r\n                        attr: [new Serenity.OptionAttribute()],\r\n                        name: memberName\r\n                    };\r\n\r\n                    if (isGetSet) {\r\n                        member.type = Q.MemberType.property;\r\n\r\n                        member.getter = {\r\n                            name: 'get_' + memberName\r\n                        };\r\n\r\n                        member.setter = {\r\n                            name: 'set_' + memberName,\r\n                        };\r\n                    }\r\n                    else {\r\n                        member.type = Q.MemberType.field;\r\n                    }\r\n\r\n                    type.__metadata.members.push(member);\r\n                }\r\n                else {\r\n                    member.attr = member.attr || [];\r\n                    member.attr.push(new OptionAttribute());\r\n                }\r\n            }\r\n        }\r\n\r\n        export function registerFormatter(nameOrIntf: string | any[] = [ISlickFormatter], intf2: any[] = [ISlickFormatter]) {\r\n            return registerClass(nameOrIntf, intf2);\r\n        }\r\n\r\n        export function dialogType(value: any) {\r\n            return function (target: Function) {\r\n                addAttribute(target, new DialogTypeAttribute(value));\r\n            }\r\n        }\r\n\r\n        export function editor(key?: string) {\r\n            return function (target: Function) {\r\n                var attr = new EditorAttribute();\r\n                if (key !== undefined)\r\n                    attr.key = key;\r\n                addAttribute(target, attr);\r\n            }\r\n        }\r\n\r\n        export function element(value: string) {\r\n            return function (target: Function) {\r\n                addAttribute(target, new ElementAttribute(value));\r\n            }\r\n        }\r\n\r\n        export function filterable(value = true) {\r\n            return function (target: Function) {\r\n                addAttribute(target, new FilterableAttribute(value));\r\n            }\r\n        }\r\n\r\n        export function itemName(value: string) {\r\n            return function (target: Function) {\r\n                addAttribute(target, new ItemNameAttribute(value));\r\n            }\r\n        }\r\n\r\n        export function maximizable(value = true) {\r\n            return function (target: Function) {\r\n                addAttribute(target, new MaximizableAttribute(value));\r\n            }\r\n        }\r\n\r\n        export function optionsType(value: Function) {\r\n            return function (target: Function) {\r\n                addAttribute(target, new OptionsTypeAttribute(value));\r\n            }\r\n        }\r\n\r\n        export function panel(value = true) {\r\n            return function (target: Function) {\r\n                addAttribute(target, new PanelAttribute(value));\r\n            }\r\n        }\r\n\r\n        export function resizable(value = true) {\r\n            return function (target: Function) {\r\n                addAttribute(target, new ResizableAttribute(value));\r\n            }\r\n        }\r\n\r\n        export function responsive(value = true) {\r\n            return function (target: Function) {\r\n                addAttribute(target, new ResponsiveAttribute(value));\r\n            }\r\n        }\r\n\r\n        export function service(value: string) {\r\n            return function (target: Function) {\r\n                addAttribute(target, new ServiceAttribute(value));\r\n            }\r\n        }\r\n    }\r\n}","namespace Serenity {\r\n\r\n    @Decorators.registerInterface('Serenity.IDialog')\r\n    export class IDialog {\r\n    }\r\n\r\n    export interface IDialog {\r\n        dialogOpen(asPanel?: boolean): void;\r\n    }\r\n\r\n}","namespace Serenity {\r\n\r\n    @Decorators.registerInterface('Serenity.IEditDialog')\r\n    export class IEditDialog {\r\n    }\r\n\r\n    export interface IEditDialog {\r\n        load(entityOrId: any, done: () => void, fail: (p1: any) => void): void;\r\n    }\r\n}","namespace Serenity {\r\n\r\n    @Serenity.Decorators.registerInterface()\r\n    export class IBooleanValue {\r\n    }\r\n\r\n    export interface IBooleanValue {\r\n        get_value(): boolean;\r\n        set_value(value: boolean): void;\r\n    }\r\n\r\n}","namespace Serenity {\r\n\r\n    @Serenity.Decorators.registerInterface()\r\n    export class IDoubleValue {\r\n    }\r\n\r\n    export interface IDoubleValue {\r\n        get_value(): any;\r\n        set_value(value: any): void;\r\n    }\r\n}","namespace Serenity {\r\n\r\n    @Serenity.Decorators.registerInterface()\r\n    export class IStringValue {\r\n    }\r\n\r\n    export interface IStringValue {\r\n        get_value(): string;\r\n        set_value(value: string): void;\r\n    }\r\n}","namespace Serenity {\r\n\r\n    @Serenity.Decorators.registerInterface()\r\n    export class IGetEditValue {\r\n    }\r\n\r\n    export interface IGetEditValue {\r\n        getEditValue(property: PropertyItem, target: any): void;\r\n    }\r\n}","namespace Serenity {\r\n\r\n    @Serenity.Decorators.registerInterface()\r\n    export class ISetEditValue {\r\n    }\r\n\r\n    export interface ISetEditValue {\r\n        setEditValue(source: any, property: PropertyItem): void;\r\n    }\r\n}","namespace Serenity {\r\n\r\n    export interface IReadOnly {\r\n        get_readOnly(): boolean;\r\n        set_readOnly(value: boolean): void;\r\n    }\r\n\r\n    @Serenity.Decorators.registerInterface('Serenity.IReadOnly')\r\n    export class IReadOnly {\r\n    }\r\n}","namespace Serenity {\r\n\r\n    export interface IValidateRequired {\r\n        get_required(): boolean;\r\n        set_required(value: boolean): void;\r\n    }\r\n\r\n    @Decorators.registerInterface('Serenity.IValidateRequired')\r\n    export class IValidateRequired {\r\n    }\r\n}","declare namespace Serenity {\r\n    enum CaptureOperationType {\r\n        Before = 0,\r\n        Delete = 1,\r\n        Insert = 2,\r\n        Update = 3\r\n    }\r\n}","declare namespace Serenity {\r\n\r\n    interface DataChangeInfo {\r\n        type: string;\r\n        entityId: any;\r\n        entity: any;\r\n    }\r\n\r\n}","namespace Serenity.DialogTypeRegistry {\r\n\r\n    function search(typeName: string) {\r\n\r\n        var dialogType = Q.getType(typeName);\r\n        if (dialogType != null && Q.isAssignableFrom(Serenity.IDialog, dialogType)) {\r\n            return dialogType;\r\n        }\r\n\r\n        for (var ns of Q.Config.rootNamespaces) {\r\n            dialogType = Q.getType(ns + '.' + typeName);\r\n            if (dialogType != null && Q.isAssignableFrom(Serenity.IDialog, dialogType)) {\r\n                return dialogType;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    var knownTypes: Q.Dictionary<WidgetDialogClass> = {};\r\n\r\n    export function tryGet(key: string): WidgetDialogClass {\r\n        if (knownTypes[key] == null) {\r\n            var typeName = key;\r\n            var dialogType = search(typeName);\r\n\r\n            if (dialogType == null && !Q.endsWith(key, 'Dialog')) {\r\n                typeName = key + 'Dialog';\r\n                dialogType = search(typeName);\r\n            }\r\n\r\n            if (dialogType == null) {\r\n                return null;\r\n            }\r\n\r\n            knownTypes[key] = dialogType as any;\r\n            return dialogType as any;\r\n        }\r\n\r\n        return knownTypes[key];\r\n    }\r\n\r\n    export function get(key: string): WidgetDialogClass {\r\n\r\n        var type = tryGet(key);\r\n\r\n        if (type == null) {\r\n            var message = key + ' dialog class is not found! Make sure there is a dialog class with this name, ' +\r\n                'it is under your project root namespace, and your namespace parts start with capital letters, ' +\r\n                'e.g. MyProject.Pascal.Cased namespace. If you got this error from an editor with InplaceAdd option ' +\r\n                'check that lookup key and dialog type name matches (case sensitive, excluding Dialog suffix). ' +\r\n                \"You need to change lookup key or specify DialogType property in LookupEditor attribute if that's not the case.\";\r\n\r\n            Q.notifyError(message, '', null);\r\n\r\n            throw new Q.Exception(message);\r\n        }\r\n\r\n        return type;\r\n    }\r\n}","namespace Serenity {\r\n    export namespace EditorTypeRegistry {\r\n        let knownTypes: Q.Dictionary<WidgetClass>;\r\n\r\n        export function get(key: string): WidgetClass {\r\n\r\n            if (Q.isEmptyOrNull(key)) {\r\n                throw new Q.ArgumentNullException('key');\r\n            }\r\n\r\n            initialize();\r\n\r\n            var editorType = knownTypes[key.toLowerCase()];\r\n            if (editorType == null) {\r\n\r\n                var type = Q.getType(key) ?? Q.getType(key, globalObj);\r\n                if (type != null) {\r\n                    knownTypes[key.toLowerCase()] = type as any;\r\n                    return type as any;\r\n                }\r\n\r\n                throw new Q.Exception(Q.format(\"Can't find {0} editor type!\", key));\r\n            }\r\n            return editorType;\r\n\r\n        }\r\n\r\n        function initialize(): void {\r\n\r\n            if (knownTypes != null)\r\n                return;\r\n\r\n            knownTypes = {};\r\n\r\n            for (var type of Q.getTypes()) {\r\n\r\n                var fullName = Q.getTypeFullName(type).toLowerCase();\r\n                knownTypes[fullName] = type;\r\n\r\n                var editorAttr = Q.getAttributes(type, Serenity.EditorAttribute, false);\r\n                if (editorAttr != null && editorAttr.length > 0) {\r\n                    var attrKey = editorAttr[0].key;\r\n                    if (!Q.isEmptyOrNull(attrKey)) {\r\n                        knownTypes[attrKey.toLowerCase()] = type;\r\n                    }\r\n                }\r\n\r\n                for (var k of Q.Config.rootNamespaces) {\r\n                    if (Q.startsWith(fullName, k.toLowerCase() + '.')) {\r\n                        var kx = fullName.substr(k.length + 1).toLowerCase();\r\n                        if (knownTypes[kx] == null) {\r\n                            knownTypes[kx] = type;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            setTypeKeysWithoutEditorSuffix();\r\n        }\r\n\r\n        export function reset(): void {\r\n            knownTypes = null;\r\n        }\r\n\r\n        function setTypeKeysWithoutEditorSuffix() {\r\n            var suffix = 'editor';\r\n            var keys = Object.keys(knownTypes);\r\n            for (var k of keys) {\r\n                setWithoutSuffix(k, knownTypes[k]);\r\n            }\r\n        }\r\n\r\n        function setWithoutSuffix(key: string, t: WidgetClass) {\r\n            var suffix = 'editor';\r\n\r\n            if (!Q.endsWith(key, suffix))\r\n                return;\r\n\r\n            var p = key.substr(0, key.length - suffix.length);\r\n\r\n            if (Q.isEmptyOrNull(p))\r\n                return;\r\n\r\n            if (knownTypes[p] != null)\r\n                return;\r\n\r\n            knownTypes[p] = knownTypes[key];\r\n        }\r\n    }\r\n}","namespace Serenity {\r\n    export namespace EnumTypeRegistry {\r\n\r\n        let knownTypes: Q.Dictionary<Function>;\r\n\r\n        export function tryGet(key: string): Function {\r\n\r\n            if (knownTypes == null) {\r\n                knownTypes = {};\r\n                for (var type of Q.getTypes()) {\r\n                    if (Q.isEnum(type)) {\r\n                        var fullName = Q.getTypeFullName(type);\r\n                        knownTypes[fullName] = type;\r\n                        var enumKeyAttr = Q.getAttributes(type, Serenity.EnumKeyAttribute, false);\r\n                        if (enumKeyAttr != null && enumKeyAttr.length > 0) {\r\n                            knownTypes[enumKeyAttr[0].value] = type;\r\n                        }\r\n\r\n                        for (var k of Q.Config.rootNamespaces) {\r\n                            if (Q.startsWith(fullName, k + '.')) {\r\n                                knownTypes[fullName.substr(k.length + 1)] = type;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (knownTypes[key] == null)\r\n                return null;\r\n\r\n            return knownTypes[key];\r\n        }\r\n\r\n        export function get(key: string): Function {\r\n            var type = EnumTypeRegistry.tryGet(key);\r\n            if (type == null) {\r\n                var message = Q.format(\"Can't find {0} enum type! If you have recently defined this enum type \" + \r\n                    \"in server side code, make sure your project builds successfully and transform T4 templates. \" +\r\n                    \"Also make sure that enum is under your project root namespace, and your namespace parts starts \" + \r\n                    \"with capital letters, e.g.MyProject.Pascal.Cased namespace\", key);\r\n\r\n                Q.notifyError(message, '', null);\r\n                throw new Q.Exception(message);\r\n            }\r\n\r\n            return type;\r\n        }\r\n    }\r\n}","namespace Serenity {\r\n    export namespace ReflectionUtils {\r\n        export function getPropertyValue(o: any, property: string): any {\r\n            var d = o;\r\n            var getter = d['get_' + property];\r\n            if (!!!(typeof (getter) === 'undefined')) {\r\n                return getter.apply(o);\r\n            }\r\n            var camelCase = makeCamelCase(property);\r\n            getter = d['get_' + camelCase];\r\n            if (!!!(typeof (getter) === 'undefined')) {\r\n                return getter.apply(o);\r\n            }\r\n            return d[camelCase];\r\n        }\r\n\r\n        export function setPropertyValue(o: any, property: string, value: any): void {\r\n            var d = o;\r\n            var setter = d['set_' + property];\r\n            if (!!!(typeof (setter) === 'undefined')) {\r\n                setter.apply(o, [value]);\r\n                return;\r\n            }\r\n            var camelCase = makeCamelCase(property);\r\n            setter = d['set_' + camelCase];\r\n            if (!!!(typeof (setter) === 'undefined')) {\r\n                setter.apply(o, [value]);\r\n                return;\r\n            }\r\n            d[camelCase] = value;\r\n        }\r\n\r\n        export function makeCamelCase(s: string): string {\r\n            if (Q.isEmptyOrNull(s)) {\r\n                return s;\r\n            }\r\n\r\n            if (s === 'ID') {\r\n                return 'id';\r\n            }\r\n\r\n            var hasNonUppercase = false;\r\n            var numUppercaseChars = 0;\r\n            for (var index = 0; index < s.length; index++) {\r\n                if (s.charCodeAt(index) >= 65 && s.charCodeAt(index) <= 90) {\r\n                    numUppercaseChars++;\r\n                }\r\n                else {\r\n                    hasNonUppercase = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (!hasNonUppercase && s.length !== 1 || numUppercaseChars === 0) {\r\n                return s;\r\n            }\r\n            else if (numUppercaseChars > 1) {\r\n                return s.substr(0, numUppercaseChars - 1).toLowerCase() + s.substr(numUppercaseChars - 1);\r\n            }\r\n            else if (s.length === 1) {\r\n                return s.toLowerCase();\r\n            }\r\n            else {\r\n                return s.substr(0, 1).toLowerCase() + s.substr(1);\r\n            }\r\n        }\r\n    }\r\n}","namespace Serenity {\r\n    export interface CreateWidgetParams<TWidget extends Widget<TOptions>, TOptions> {\r\n        type?: new (element: JQuery, options?: TOptions) => TWidget;\r\n        options?: TOptions;\r\n        container?: JQuery;\r\n        element?: (e: JQuery) => void;\r\n        init?: (w: TWidget) => void;\r\n    }\r\n}","namespace Serenity {\r\n\r\n\r\n    export interface WidgetClass<TOptions = object> {\r\n        new(element: JQuery, options?: TOptions): Widget<TOptions>;\r\n        element: JQuery;\r\n    }\r\n\r\n    export interface WidgetDialogClass<TOptions = object> {\r\n        new(options?: TOptions): Widget<TOptions> & IDialog;\r\n        element: JQuery;\r\n    }\r\n\r\n    export type AnyWidgetClass<TOptions = object> = WidgetClass<TOptions> | WidgetDialogClass<TOptions>;\r\n\r\n    if (typeof React === \"undefined\" && typeof window !== \"undefined\") {\r\n        if (window['preact'] != null) {\r\n            window['React'] = window['ReactDOM'] = window['preact'];\r\n            (React as any).Fragment = Q.coalesce((React as any).Fragment, \"x-fragment\");\r\n        }\r\n        else if (window['Nerv'] != null) {\r\n            window['React'] = window['ReactDOM'] = window['Nerv'];\r\n            (React as any).Fragment = Q.coalesce((React as any).Fragment, \"x-fragment\");\r\n        }\r\n        else {\r\n            window['React'] = {\r\n                Component: function () { } as any,\r\n                Fragment: \"x-fragment\" as any,\r\n                createElement: function () { return { _reactNotLoaded: true }; } as any\r\n            } as any\r\n            window['ReactDOM'] = {\r\n                render: function () { throw Error(\"To use React, it should be included before Serenity.CoreLib.js\"); }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Serenity.Decorators.registerClass()\r\n    export class Widget<TOptions> extends React.Component<TOptions, any> {\r\n        private static nextWidgetNumber = 0;\r\n        public element: JQuery;\r\n        protected options: TOptions;\r\n        protected widgetName: string;\r\n        protected uniqueName: string;\r\n\r\n        constructor(element: JQuery, options?: TOptions) {\r\n            super(options);\r\n\r\n            this.element = element;\r\n            this.options = options || ({} as TOptions);\r\n\r\n            this.widgetName = Widget.getWidgetName(Q.getInstanceType(this));\r\n            this.uniqueName = this.widgetName + (Widget.nextWidgetNumber++).toString();\r\n\r\n            if (element.data(this.widgetName)) {\r\n                throw new Q.Exception(Q.format(\"The element already has widget '{0}'!\", this.widgetName));\r\n            }\r\n\r\n            element.on('remove.' + this.widgetName, e => {\r\n                if (e.bubbles || e.cancelable) {\r\n                    return;\r\n                }\r\n                this.destroy();\r\n            }).data(this.widgetName, this);\r\n\r\n            this.addCssClass();\r\n        }\r\n\r\n        public destroy(): void {\r\n            if (this.element) {\r\n                this.element.removeClass('s-' + Q.getTypeName(Q.getInstanceType(this)));\r\n                this.element.off('.' + this.widgetName).off('.' + this.uniqueName).removeData(this.widgetName);\r\n                this.element = null;\r\n            }\r\n        }\r\n\r\n        protected addCssClass(): void {\r\n            this.element.addClass(this.getCssClass());\r\n        }\r\n\r\n        protected getCssClass(): string {\r\n            var type = Q.getInstanceType(this);\r\n            var klass = 's-' + Q.getTypeName(type);\r\n            var fullClass = Q.replaceAll(Q.getTypeFullName(type), '.', '-');\r\n\r\n            for (let k of Q.Config.rootNamespaces) {\r\n                if (Q.startsWith(fullClass, k + '-')) {\r\n                    fullClass = fullClass.substr(k.length + 1);\r\n                    break;\r\n                }\r\n            }\r\n\r\n            fullClass = 's-' + fullClass;\r\n            if (klass === fullClass) {\r\n                return klass;\r\n            }\r\n\r\n            return klass + ' ' + fullClass;\r\n        }\r\n\r\n        public static getWidgetName(type: Function): string {\r\n            return Q.replaceAll(Q.getTypeFullName(type), '.', '_');\r\n        }\r\n\r\n        public static elementFor<TWidget>(editorType: { new (...args: any[]): TWidget }): JQuery {\r\n            var elementAttr = Q.getAttributes(editorType, Serenity.ElementAttribute, true);\r\n            var elementHtml = ((elementAttr.length > 0) ? elementAttr[0].value : '<input/>');\r\n            return $(elementHtml);\r\n        };\r\n\r\n        public addValidationRule(eventClass: string, rule: (p1: JQuery) => string): JQuery {\r\n            return Q.addValidationRule(this.element, eventClass, rule);\r\n        }   \r\n\r\n        public getGridField(): JQuery {\r\n            return this.element.closest('.field');\r\n        } \r\n\r\n        public change(handler: (e: JQueryEventObject) => void) {\r\n            this.element.on('change.' + this.uniqueName, handler);\r\n        };\r\n\r\n        public changeSelect2(handler: (e: JQueryEventObject) => void) {\r\n            this.element.on('change.' + this.uniqueName, function(e) {\r\n                if (!$(e.target).hasClass('select2-change-triggered'))\r\n                    handler(e);\r\n            });\r\n        };\r\n\r\n        public static create<TWidget extends Widget<TOpt>, TOpt>(params: CreateWidgetParams<TWidget, TOpt>) {\r\n            let widget: TWidget;\r\n\r\n            if (Q.isAssignableFrom(Serenity.IDialog, params.type)) {\r\n                widget = new (params.type as any)(params.options);\r\n                if (params.container)\r\n                    widget.element.appendTo(params.container);\r\n                params.element && params.element(widget.element);\r\n            }\r\n            else {\r\n                var e = Widget.elementFor(params.type);\r\n                if (params.container)\r\n                    e.appendTo(params.container);\r\n                params.element && params.element(e);\r\n                widget = new params.type(e, params.options);\r\n            }\r\n\r\n            widget.init(null);\r\n            params.init && params.init(widget);\r\n\r\n            return widget;\r\n        }\r\n\r\n        public initialize(): void {\r\n        }\r\n\r\n        public init(action?: (widget: any) => void): this {\r\n            action && action(this);\r\n            return this;\r\n        }\r\n\r\n        private static __isWidgetType = true;\r\n        props: Readonly<{ children?: React.ReactNode }> & Readonly<TOptions> & WidgetComponentProps<this>;\r\n    }\r\n\r\n    if (typeof $ !== \"undefined\" && $.fn) {\r\n        $.fn.tryGetWidget = function (this: JQuery, type: any) {\r\n            var element = this;\r\n            var w;\r\n            if (Q.isAssignableFrom(Serenity.Widget, type)) {\r\n                var widgetName = Widget.getWidgetName(type);\r\n                w = element.data(widgetName);\r\n                if (w != null && !Q.isAssignableFrom(type, Q.getInstanceType(w))) {\r\n                    w = null;\r\n                }\r\n                if (w != null) {\r\n                    return w;\r\n                }\r\n            }\r\n\r\n            var data = element.data();\r\n            if (data == null) {\r\n                return null;\r\n            }\r\n\r\n            for (var key of Object.keys(data)) {\r\n                w = data[key];\r\n                if (w != null && Q.isAssignableFrom(type, Q.getInstanceType(w))) {\r\n                    return w;\r\n                }\r\n            }\r\n\r\n            return null;\r\n        };\r\n\r\n        $.fn.getWidget = function (this: JQuery, type: any) {\r\n            if (this == null) {\r\n                throw new Q.ArgumentNullException('element');\r\n            }\r\n            if (this.length === 0) {\r\n                throw new Q.Exception(Q.format(\"Searching for widget of type '{0}' on a non-existent element! ({1})\",\r\n                    Q.getTypeFullName(type), this.selector));\r\n            }\r\n\r\n            var w = this.tryGetWidget(type);\r\n            if (w == null) {\r\n                var message = Q.format(\"Element has no widget of type '{0}'! If you have recently changed \" +\r\n                    \"editor type of a property in a form class, or changed data type in row (which also changes \" +\r\n                    \"editor type) your script side Form definition might be out of date. Make sure your project \" +\r\n                    \"builds successfully and transform T4 templates\", Q.getTypeFullName(type));\r\n                Q.notifyError(message, '', null);\r\n                throw new Q.Exception(message);\r\n            }\r\n            return w;\r\n        };\r\n    }\r\n\r\n    export interface WidgetComponentProps<W extends Serenity.Widget<any>> {\r\n        id?: string;\r\n        name?: string;\r\n        className?: string;\r\n        maxLength?: number;\r\n        placeholder?: string;\r\n        setOptions?: any;\r\n        required?: boolean;\r\n        readOnly?: boolean;\r\n        oneWay?: boolean;\r\n        onChange?: (e: JQueryEventObject) => void;\r\n        onChangeSelect2?: (e: JQueryEventObject) => void;\r\n        value?: any;\r\n        defaultValue?: any;\r\n    }\r\n\r\n    export declare interface Widget<TOptions> {\r\n        change(handler: (e: JQueryEventObject) => void): void;\r\n        changeSelect2(handler: (e: JQueryEventObject) => void): void;\r\n    }\r\n}\r\n\r\ninterface JQuery {\r\n    getWidget<TWidget>(widgetType: { new (...args: any[]): TWidget }): TWidget;\r\n    tryGetWidget<TWidget>(widgetType: { new (...args: any[]): TWidget }): TWidget;\r\n}\r\n\r\n","namespace Serenity {\r\n\r\n    @Serenity.Decorators.registerClass()\r\n    export class TemplatedWidget<TOptions> extends Widget<TOptions> {\r\n\r\n        protected idPrefix: string;\r\n        private static templateNames: Q.Dictionary<string> = {};\r\n\r\n        constructor(container: JQuery, options?: TOptions) {\r\n            super(container, options);\r\n\r\n            this.idPrefix = this.uniqueName + '_';\r\n\r\n            var widgetMarkup = this.getTemplate().replace(new RegExp('~_', 'g'), this.idPrefix);\r\n\r\n            // for compatibility with older templates based on JsRender\r\n            var end = 0;\r\n            while (true) {\r\n                var idx = widgetMarkup.indexOf('{{text:\"', end);\r\n                if (idx < 0)\r\n                    break;\r\n                var end = widgetMarkup.indexOf('\"}}', idx);\r\n                if (end < 0)\r\n                    break;\r\n                var key = widgetMarkup.substr(idx + 8, end - idx - 8);\r\n                var text = Q.text(key);\r\n                widgetMarkup = widgetMarkup.substr(0, idx) + text + widgetMarkup.substr(end + 3);\r\n                end = idx + text.length;\r\n            }\r\n\r\n            this.element.html(widgetMarkup);\r\n        }\r\n\r\n        protected byId(id: string): JQuery {\r\n            return $('#' + this.idPrefix + id);\r\n        }\r\n\r\n        private byID<TWidget>(id: string, type: { new (...args: any[]): TWidget }) {\r\n            return this.byId(id).getWidget(type);\r\n        }\r\n\r\n        private static noGeneric(s: string): string {\r\n            var dollar = s.indexOf('$');\r\n            if (dollar >= 0) {\r\n                return s.substr(0, dollar);\r\n            }\r\n            return s;\r\n        }\r\n\r\n        private getDefaultTemplateName(): string {\r\n            return TemplatedWidget.noGeneric(Q.getTypeName(\r\n                Q.getInstanceType(this)));\r\n        }\r\n\r\n        protected getTemplateName(): string {\r\n\r\n            var type = Q.getInstanceType(this);\r\n            var fullName = Q.getTypeFullName(type);\r\n\r\n            var templateNames = TemplatedWidget.templateNames;\r\n\r\n            var cachedName = TemplatedWidget.templateNames[fullName];\r\n            if (cachedName != null) {\r\n                return cachedName;\r\n            }\r\n            \r\n            while (type && type !== Serenity.Widget) {\r\n                var name = TemplatedWidget.noGeneric(Q.getTypeFullName(type));\r\n\r\n                for (let k of Q.Config.rootNamespaces) {\r\n                    if (Q.startsWith(name, k + '.')) {\r\n                        name = name.substr(k.length + 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (Q.canLoadScriptData('Template.' + name)) {\r\n                    templateNames[fullName] = name;\r\n                    return name;\r\n                }\r\n\r\n                name = Q.replaceAll(name, '.', '_');\r\n                if (Q.canLoadScriptData('Template.' + name) ||\r\n                    $('script#Template_' + name).length > 0) {\r\n                    templateNames[fullName] = name;\r\n                    return name;\r\n                }\r\n\r\n                name = TemplatedWidget.noGeneric(Q.getTypeName(type));\r\n                if (Q.canLoadScriptData('Template.' + name) ||\r\n                    $('script#Template_' + name).length > 0) {\r\n                    TemplatedWidget.templateNames[fullName] = name;\r\n                    return name;\r\n                }\r\n\r\n                type = Q.getBaseType(type);\r\n            }\r\n\r\n            templateNames[fullName] = cachedName = this.getDefaultTemplateName();\r\n            return cachedName;\r\n        }\r\n\r\n        protected getFallbackTemplate(): string {\r\n            return null;\r\n        }\r\n\r\n        protected getTemplate(): string {\r\n            var templateName = this.getTemplateName();\r\n\r\n            var script = $('script#Template_' + templateName);\r\n            if (script.length > 0) {\r\n                return script.html();\r\n            }\r\n\r\n            let template: string;\r\n            if (!Q.canLoadScriptData('Template.' + templateName) &&\r\n                this.getDefaultTemplateName() == templateName) {\r\n                template = this.getFallbackTemplate();\r\n                if (template != null)\r\n                    return template;\r\n            }\r\n                \r\n            template = Q.getTemplate(templateName);\r\n\r\n            if (template == null) {\r\n                throw new Error(Q.format(\r\n                    \"Can't locate template for widget '{0}' with name '{1}'!\",\r\n                    Q.getTypeName(Q.getInstanceType(this)), templateName));\r\n            }\r\n\r\n            return template;\r\n        }\r\n    }\r\n}","namespace Serenity {\r\n    @Serenity.Decorators.registerClass('Serenity.CascadedWidgetLink')\r\n    export class CascadedWidgetLink<TParent extends Widget<any>> {\r\n\r\n        constructor(private parentType: { new(...args: any[]): TParent },\r\n            private widget: Serenity.Widget<any>,\r\n            private parentChange: (p1: TParent) => void) {\r\n            this.bind();\r\n            this.widget.element.bind('remove.' + (widget as any).uniqueName + 'cwh', e => {\r\n                this.unbind();\r\n                this.widget = null;\r\n                this.parentChange = null;\r\n            });\r\n        }\r\n\r\n        private _parentID: string;\r\n\r\n        bind() {\r\n\r\n            if (Q.isEmptyOrNull(this._parentID)) {\r\n                return null;\r\n            }\r\n\r\n            var parent = Q.findElementWithRelativeId(this.widget.element, this._parentID)\r\n                .tryGetWidget(this.parentType);\r\n\r\n            if (parent != null) {\r\n                parent.element.bind('change.' + (this.widget as any).uniqueName, () => {\r\n                    this.parentChange(parent);\r\n                });\r\n                return parent;\r\n            }\r\n            else {\r\n                Q.notifyError(\"Can't find cascaded parent element with ID: \" + this._parentID + '!', '', null);\r\n                return null;\r\n            }\r\n        }\r\n\r\n        unbind() {\r\n\r\n            if (Q.isEmptyOrNull(this._parentID)) {\r\n                return null;\r\n            }\r\n\r\n            var parent = Q.findElementWithRelativeId(this.widget.element, this._parentID).tryGetWidget(this.parentType);\r\n\r\n            if (parent != null) {\r\n                parent.element.unbind('.' + (this.widget as any).uniqueName);\r\n            }\r\n\r\n            return parent;\r\n        }\r\n\r\n        get_parentID() {\r\n            return this._parentID;\r\n        }\r\n\r\n        set_parentID(value: string) {\r\n\r\n            if (this._parentID !== value) {\r\n                this.unbind();\r\n                this._parentID = value;\r\n                this.bind();\r\n            }\r\n        }\r\n    }\r\n}\r\n","namespace Serenity {\r\n    export namespace UploadHelper {\r\n\r\n        export function addUploadInput(options: UploadInputOptions): JQuery {\r\n            options.container.addClass('fileinput-button');\r\n            var uploadInput = $('<input/>').attr('type', 'file')\r\n                .attr('name', options.inputName + '[]')\r\n                .attr('data-url', Q.resolveUrl('~/File/TemporaryUpload'))\r\n                .attr('multiple', 'multiple').appendTo(options.container);\r\n\r\n            if (options.allowMultiple) {\r\n                uploadInput.attr('multiple', 'multiple');\r\n            }\r\n\r\n            (uploadInput as any).fileupload({\r\n                dataType: 'json',\r\n                dropZone: options.zone,\r\n                pasteZone: options.zone,\r\n                done: function (e: JQueryEventObject, data: any) {\r\n                    var response = data.result;\r\n                    if (options.fileDone != null) {\r\n                        options.fileDone(response, data.files[0].name, data);\r\n                    }\r\n                },\r\n                start: function () {\r\n                    Q.blockUI(null);\r\n                    if (options.progress != null) {\r\n                        options.progress.show();\r\n                    }\r\n                },\r\n                stop: function () {\r\n                    Q.blockUndo();\r\n                    if (options.progress != null) {\r\n                        options.progress.hide();\r\n                    }\r\n                },\r\n                progress: function (e1: JQueryEventObject, data1: any) {\r\n                    if (options.progress != null) {\r\n                        var percent = data1.loaded / data1.total * 100;\r\n                        options.progress.children().css('width', percent.toString() + '%');\r\n                    }\r\n                }\r\n            });\r\n            return uploadInput;\r\n        }\r\n\r\n        export function checkImageConstraints(file: UploadResponse,\r\n            opt: FileUploadConstraints): boolean {\r\n\r\n            if (!file.IsImage && !opt.allowNonImage) {\r\n                Q.alert(Q.text('Controls.ImageUpload.NotAnImageFile'));\r\n                return false;\r\n            }\r\n            if (opt.minSize > 0 && file.Size < opt.minSize) {\r\n                Q.alert(Q.format(Q.text('Controls.ImageUpload.UploadFileTooSmall'),\r\n                    UploadHelper.fileSizeDisplay(opt.minSize)));\r\n                return false;\r\n            }\r\n            if (opt.maxSize > 0 && file.Size > opt.maxSize) {\r\n                Q.alert(Q.format(Q.text('Controls.ImageUpload.UploadFileTooBig'),\r\n                    UploadHelper.fileSizeDisplay(opt.maxSize)));\r\n                return false;\r\n            }\r\n            if (!file.IsImage) {\r\n                return true;\r\n            }\r\n            if (opt.minWidth > 0 && file.Width < opt.minWidth) {\r\n                Q.alert(Q.format(Q.text('Controls.ImageUpload.MinWidth'), opt.minWidth));\r\n                return false;\r\n            }\r\n            if (opt.maxWidth > 0 && file.Width > opt.maxWidth) {\r\n                Q.alert(Q.format(Q.text('Controls.ImageUpload.MaxWidth'), opt.maxWidth));\r\n                return false;\r\n            }\r\n            if (opt.minHeight > 0 && file.Height < opt.minHeight) {\r\n                Q.alert(Q.format(Q.text('Controls.ImageUpload.MinHeight'), opt.minHeight));\r\n                return false;\r\n            }\r\n            if (opt.maxHeight > 0 && file.Height > opt.maxHeight) {\r\n                Q.alert(Q.format(Q.text('Controls.ImageUpload.MaxHeight'), opt.maxHeight));\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n\r\n        export function fileNameSizeDisplay(name: string, bytes: number): string {\r\n            return name + ' (' + fileSizeDisplay(bytes) + ')';\r\n        }\r\n\r\n        export function fileSizeDisplay(bytes: number): string {\r\n            var byteSize = Q.round(bytes * 100 / 1024) * 0.01;\r\n            var suffix = 'KB';\r\n            if (byteSize >= 1024) {\r\n                byteSize = Q.round(byteSize * 100 / 1024) * 0.01;\r\n                suffix = 'MB';\r\n            }\r\n            var sizeParts = byteSize.toString().split(String.fromCharCode(46));\r\n            var value;\r\n            if (sizeParts.length > 1) {\r\n                value = sizeParts[0] + '.' + sizeParts[1].substr(0, 2);\r\n            }\r\n            else {\r\n                value = sizeParts[0];\r\n            }\r\n            return value + ' ' + suffix;\r\n        }\r\n\r\n        export function hasImageExtension(filename: string): boolean {\r\n            if (Q.isEmptyOrNull(filename)) {\r\n                return false;\r\n            }\r\n            filename = filename.toLowerCase();\r\n            return Q.endsWith(filename, '.jpg') || Q.endsWith(filename, '.jpeg') ||\r\n                Q.endsWith(filename, '.gif') || Q.endsWith(filename, '.png');\r\n        }\r\n\r\n        export function thumbFileName(filename: string): string {\r\n            filename = Q.coalesce(filename, '');\r\n            var idx = filename.lastIndexOf('.');\r\n            if (idx >= 0) {\r\n                filename = filename.substr(0, idx);\r\n            }\r\n            return filename + '_t.jpg';\r\n        }\r\n\r\n        export function dbFileUrl(filename: string): string {\r\n            filename = Q.replaceAll(Q.coalesce(filename, ''), '\\\\', '/');\r\n            return Q.resolveUrl('~/upload/') + filename;\r\n        }\r\n\r\n        export function colorBox(link: JQuery, options: any): void {\r\n            (link as any).colorbox({\r\n                current: Q.text('Controls.ImageUpload.ColorboxCurrent'),\r\n                previous: Q.text('Controls.ImageUpload.ColorboxPrior'),\r\n                next: Q.text('Controls.ImageUpload.ColorboxNext'),\r\n                close: Q.text('Controls.ImageUpload.ColorboxClose')\r\n            });\r\n        }\r\n\r\n        export function populateFileSymbols(container: JQuery, items: UploadedFile[],\r\n            displayOriginalName?: boolean, urlPrefix?: string): void {\r\n\r\n            items = items || [];\r\n            container.html('');\r\n            for (var index = 0; index < items.length; index++) {\r\n                var item = items[index];\r\n                var li = $('<li/>').addClass('file-item').data('index', index);\r\n                var isImage = hasImageExtension(item.Filename);\r\n                if (isImage) {\r\n                    li.addClass('file-image');\r\n                }\r\n                else {\r\n                    li.addClass('file-binary');\r\n                }\r\n                var editLink = '#' + index;\r\n                var thumb = $('<a/>').addClass('thumb').appendTo(li);\r\n                var originalName = Q.coalesce(item.OriginalName, '');\r\n                var fileName = item.Filename;\r\n                if (urlPrefix != null && fileName != null &&\r\n                    !Q.startsWith(fileName, 'temporary/')) {\r\n                    fileName = urlPrefix + fileName;\r\n                }\r\n\r\n                thumb.attr('href', dbFileUrl(fileName));\r\n                thumb.attr('target', '_blank');\r\n                if (!Q.isEmptyOrNull(originalName)) {\r\n                    thumb.attr('title', originalName);\r\n                }\r\n\r\n                if (isImage) {\r\n                    thumb.css('backgroundImage', \"url('\" + dbFileUrl(\r\n                        thumbFileName(item.Filename)) + \"')\");\r\n                    colorBox(thumb, new Object());\r\n                }\r\n\r\n                if (displayOriginalName) {\r\n                    $('<div/>').addClass('filename').text(originalName)\r\n                        .attr('title', originalName).appendTo(li);\r\n                }\r\n\r\n                li.appendTo(container);\r\n            }\r\n        }\r\n    }\r\n\r\n    export interface UploadedFile {\r\n        Filename?: string;\r\n        OriginalName?: string;\r\n    }\r\n\r\n    export interface UploadInputOptions {\r\n        container?: JQuery;\r\n        zone?: JQuery;\r\n        progress?: JQuery;\r\n        inputName?: string;\r\n        allowMultiple?: boolean;\r\n        fileDone?: (p1: UploadResponse, p2: string, p3: any) => void;\r\n    }\r\n\r\n    export interface UploadResponse {\r\n        TemporaryFile: string;\r\n        Size: number;\r\n        IsImage: boolean;\r\n        Width: number;\r\n        Height: number;\r\n    }\r\n\r\n    export interface FileUploadConstraints {\r\n        minWidth?: number;\r\n        maxWidth?: number;\r\n        minHeight?: number;\r\n        maxHeight?: number;\r\n        minSize?: number;\r\n        maxSize?: number;\r\n        allowNonImage?: boolean;\r\n        originalNameProperty?: string;\r\n    }\r\n}\r\n","namespace Serenity {\r\n    export interface ToolButton {\r\n        title?: string;\r\n        hint?: string;\r\n        cssClass?: string;\r\n        icon?: string;\r\n        onClick?: any;\r\n        htmlEncode?: any;\r\n        hotkey?: string;\r\n        hotkeyAllowDefault?: boolean;\r\n        hotkeyContext?: any;\r\n        separator?: (false | true | 'left' | 'right' | 'both');\r\n        visible?: boolean | (() => boolean);\r\n        disabled?: boolean | (() => boolean);\r\n    }\r\n\r\n    export interface PopupMenuButtonOptions {\r\n        menu?: JQuery;\r\n        onPopup?: () => void;\r\n        positionMy?: string;\r\n        positionAt?: string;\r\n    }\r\n\r\n    @Decorators.registerEditor('Serenity.PopupMenuButton')\r\n    export class PopupMenuButton extends Widget<PopupMenuButtonOptions> {\r\n        constructor(div: JQuery, opt: PopupMenuButtonOptions) {\r\n            super(div, opt);\r\n\r\n            div.addClass('s-PopupMenuButton');\r\n            div.click(e => {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                if (this.options.onPopup != null) {\r\n                    this.options.onPopup();\r\n                }\r\n\r\n                var menu = this.options.menu;\r\n                menu.show().position({\r\n                    my: Q.coalesce(this.options.positionMy, 'left top'),\r\n                    at: Q.coalesce(this.options.positionAt, 'left bottom'),\r\n                    of: this.element\r\n                });\r\n\r\n                var uq = this.uniqueName;\r\n                $(document).one('click.' + uq, function (x) {\r\n                    menu.hide();\r\n                });\r\n            });\r\n\r\n            this.options.menu.hide().appendTo(document.body)\r\n                .addClass('s-PopupMenu').menu();\r\n        }\r\n\r\n        destroy() {\r\n            if (this.options.menu != null) { \r\n                this.options.menu.remove();\r\n                this.options.menu = null;\r\n            }\r\n\r\n            super.destroy();\r\n        }\r\n    }\r\n\r\n\r\n    export interface PopupToolButtonOptions extends PopupMenuButtonOptions {\r\n    }\r\n\r\n    @Decorators.registerEditor('Serenity.PopupToolButton')\r\n    export class PopupToolButton extends PopupMenuButton {\r\n        constructor(div: JQuery, opt: PopupToolButtonOptions) {\r\n            super(div, opt);\r\n\r\n            div.addClass('s-PopupToolButton');\r\n            $('<b/>').appendTo(div.children('.button-outer').children('span'));\r\n        }\r\n    }\r\n\r\n    export interface ToolbarOptions {\r\n        buttons?: ToolButton[];\r\n        hotkeyContext?: any;\r\n    }\r\n\r\n    @Decorators.registerClass('Serenity.Toolbar')\r\n    export class Toolbar extends Widget<ToolbarOptions> {\r\n        constructor(div: JQuery, options: ToolbarOptions) {\r\n            super(div, options);\r\n\r\n            this.element.addClass('s-Toolbar clearfix')\r\n                .html('<div class=\"tool-buttons\"><div class=\"buttons-outer\">' +\r\n                    '<div class=\"buttons-inner\"></div></div></div>');\r\n            var container = $('div.buttons-inner', this.element);\r\n            var buttons = this.options.buttons;\r\n            for (var i = 0; i < buttons.length; i++) {\r\n                this.createButton(container, buttons[i]);\r\n            }\r\n        }\r\n\r\n        destroy() {\r\n            this.element.find('div.tool-button').unbind('click');\r\n            if (this.mouseTrap) {\r\n                if (!!this.mouseTrap.destroy) {\r\n                    this.mouseTrap.destroy();\r\n                }\r\n                else {\r\n                    this.mouseTrap.reset();\r\n                }\r\n                this.mouseTrap = null;\r\n            }\r\n\r\n            super.destroy();\r\n        }\r\n\r\n        protected mouseTrap: any;\r\n\r\n        protected createButton(container: JQuery, b: ToolButton) {\r\n            var cssClass = Q.coalesce(b.cssClass, '');\r\n\r\n            if (b.separator === true || b.separator === 'left' || b.separator === 'both') {\r\n                $('<div class=\"separator\"></div>').appendTo(container);\r\n            }\r\n\r\n            var btn = $('<div class=\"tool-button\"><div class=\"button-outer\">' +\r\n                '<span class=\"button-inner\"></span></div></div>')\r\n                .appendTo(container);\r\n\r\n            if (b.separator === 'right' || b.separator === 'both') {\r\n                $('<div class=\"separator\"></div>').appendTo(container);\r\n            }\r\n\r\n            if (cssClass.length > 0) {\r\n\t\t\t\tbtn.addClass(cssClass);\r\n\t\t\t}\r\n\r\n            if (!Q.isEmptyOrNull(b.hint)) {\r\n\t\t\t\tbtn.attr('title', b.hint);\r\n\t\t\t}\r\n\r\n            btn.click(function (e) {\r\n\t\t\t\tif (btn.hasClass('disabled')) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tb.onClick(e);\r\n            });\r\n\r\n\t\t\tvar text = b.title;\r\n\t\t\tif (b.htmlEncode !== false) {\r\n\t\t\t\ttext = Q.htmlEncode(b.title);\r\n            }\r\n\r\n            if (!Q.isEmptyOrNull(b.icon)) {\r\n\t\t\t\tbtn.addClass('icon-tool-button');\r\n\t\t\t\tvar klass = b.icon;\r\n\t\t\t\tif (Q.startsWith(klass, 'fa-')) {\r\n\t\t\t\t\tklass = 'fa ' + klass;\r\n                }\r\n                else if (Q.startsWith(klass, 'glyphicon-')) {\r\n\t\t\t\t\tklass = 'glyphicon ' + klass;\r\n\t\t\t\t}\r\n\t\t\t\ttext = \"<i class='\" + klass + \"'></i> \" + text;\r\n\t\t\t}\r\n\t\t\tif (text == null || text.length === 0) {\r\n\t\t\t\tbtn.addClass('no-text');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tbtn.find('span').html(text);\r\n            }\r\n\r\n            if (b.visible === false)\r\n                btn.hide();\r\n\r\n            if (b.disabled != null && typeof b.disabled !== \"function\")\r\n                btn.toggleClass('disabled', !!b.disabled);\r\n\r\n            if (typeof b.visible === \"function\" || typeof b.disabled == \"function\") {\r\n                btn.on('updateInterface', () => {\r\n                    if (typeof b.visible === \"function\")\r\n                        btn.toggle(!!b.visible());\r\n\r\n                    if (typeof b.disabled === \"function\")\r\n                        btn.toggleClass(\"disabled\", !!b.disabled());\r\n                });\r\n            }\r\n\r\n            if (!!(!Q.isEmptyOrNull(b.hotkey) && window['Mousetrap'] != null)) {\r\n                this.mouseTrap = this.mouseTrap || window['Mousetrap'](\r\n                    b.hotkeyContext || this.options.hotkeyContext || window.document.documentElement);\r\n\r\n                this.mouseTrap.bind(b.hotkey, function (e1: BaseJQueryEventObject, action: any) {\r\n\t\t\t\t\tif (btn.is(':visible')) {\r\n\t\t\t\t\t\tbtn.triggerHandler('click');\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn b.hotkeyAllowDefault;\r\n\t\t\t\t});\r\n\t\t\t}\r\n        }\r\n\r\n        findButton(className: string): JQuery {\r\n            if (className != null && Q.startsWith(className, '.')) {\r\n                className = className.substr(1);\r\n            }\r\n            return $('div.tool-button.' + className, this.element);\r\n        }\r\n\r\n        updateInterface() {\r\n            this.element.find('.tool-button').each(function (i: number, el: Element) {\r\n                $(el).triggerHandler('updateInterface')\r\n            });\r\n        }\r\n    }\r\n}\r\n","namespace Serenity {\r\n\r\n    export namespace EditorUtils {\r\n\r\n        export function getDisplayText(editor: Serenity.Widget<any>): string {\r\n\r\n            var select2 = editor.element.data('select2');\r\n\r\n            if (select2 != null) {\r\n                var data = editor.element.select2('data');\r\n                if (data == null)\r\n                    return '';\r\n\r\n                return Q.coalesce(data.text, '');\r\n            }\r\n\r\n            var value = getValue(editor);\r\n            if (value == null) {\r\n                return '';\r\n            }\r\n\r\n            if (typeof value === \"string\")\r\n                return value;\r\n\r\n            if (value instanceof Boolean)\r\n                return (!!value ? Q.coalesce(Q.tryGetText('Controls.FilterPanel.OperatorNames.true'), 'True') :\r\n                    Q.coalesce(Q.tryGetText('Controls.FilterPanel.OperatorNames.true'), 'False'));\r\n\r\n            return value.toString();\r\n        }\r\n\r\n        var dummy: PropertyItem = { name: '_' };\r\n\r\n        export function getValue(editor: Serenity.Widget<any>): any {\r\n            var target = {};\r\n            saveValue(editor, dummy, target);\r\n            return target['_'];\r\n        }\r\n\r\n        export function saveValue(editor: Serenity.Widget<any>, item: PropertyItem, target: any): void {\r\n\r\n            var getEditValue = Q.safeCast(editor, Serenity.IGetEditValue);\r\n\r\n            if (getEditValue != null) {\r\n                getEditValue.getEditValue(item, target);\r\n                return;\r\n            }\r\n\r\n            var stringValue = Q.safeCast(editor, Serenity.IStringValue);\r\n            if (stringValue != null) {\r\n                target[item.name] = stringValue.get_value();\r\n                return;\r\n            }\r\n\r\n            var booleanValue = Q.safeCast(editor, Serenity.IBooleanValue);\r\n            if (booleanValue != null) {\r\n                target[item.name] = booleanValue.get_value();\r\n                return;\r\n            }\r\n\r\n            var doubleValue = Q.safeCast(editor, Serenity.IDoubleValue);\r\n            if (doubleValue != null) {\r\n                var value = doubleValue.get_value();\r\n                target[item.name] = (isNaN(value) ? null : value);\r\n                return;\r\n            }\r\n\r\n            if ((editor as any).getEditValue != null) {\r\n                (editor as any).getEditValue(item, target);\r\n                return;\r\n            }\r\n\r\n            if (editor.element.is(':input')) {\r\n                target[item.name] = editor.element.val();\r\n                return;\r\n            }\r\n        }\r\n\r\n        export function setValue(editor: Serenity.Widget<any>, value: any): void {\r\n            var source = { _: value };\r\n            loadValue(editor, dummy, source);\r\n        }\r\n\r\n        export function loadValue(editor: Serenity.Widget<any>, item: PropertyItem, source: any): void {\r\n\r\n            var setEditValue = Q.safeCast(editor, Serenity.ISetEditValue);\r\n            if (setEditValue != null) {\r\n                setEditValue.setEditValue(source, item);\r\n                return;\r\n            }\r\n\r\n            var stringValue = Q.safeCast(editor, Serenity.IStringValue);\r\n            if (stringValue != null) {\r\n                var value = source[item.name];\r\n                if (value != null) {\r\n                    value = value.toString();\r\n                }\r\n                stringValue.set_value(Q.cast(value, String));\r\n                return;\r\n            }\r\n\r\n            var booleanValue = Q.safeCast(editor, Serenity.IBooleanValue);\r\n            if (booleanValue != null) {\r\n                var value1 = source[item.name];\r\n                if (typeof (value1) === 'number') {\r\n                    booleanValue.set_value(value1 > 0);\r\n                }\r\n                else {\r\n                    booleanValue.set_value(!!value1);\r\n                }\r\n                return;\r\n            }\r\n\r\n            var doubleValue = Q.safeCast(editor, Serenity.IDoubleValue);\r\n            if (doubleValue != null) {\r\n                var d = source[item.name];\r\n                if (!!(d == null || Q.isInstanceOfType(d, String) && Q.isTrimmedEmpty(Q.cast(d, String)))) {\r\n                    doubleValue.set_value(null);\r\n                }\r\n                else if (Q.isInstanceOfType(d, String)) {\r\n                    doubleValue.set_value(Q.cast(Q.parseDecimal(Q.cast(d, String)), Number));\r\n                }\r\n                else if (Q.isInstanceOfType(d, Boolean)) {\r\n                    doubleValue.set_value((!!d ? 1 : 0));\r\n                }\r\n                else {\r\n                    doubleValue.set_value(Q.cast(d, Number));\r\n                }\r\n                return;\r\n            }\r\n\r\n            if ((editor as any).setEditValue != null) {\r\n                (editor as any).setEditValue(source, item);\r\n                return;\r\n            }\r\n\r\n            if (editor.element.is(':input')) {\r\n                var v = source[item.name];\r\n                if (v == null) {\r\n                    editor.element.val('');\r\n                }\r\n                else {\r\n                    editor.element.val(v);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n\r\n        export function setReadonly(elements: JQuery, isReadOnly: boolean): JQuery {\r\n            elements.each(function (index, el) {\r\n                var elx = $(el);\r\n                var type = elx.attr('type');\r\n                if (elx.is('select') || type === 'radio' || type === 'checkbox') {\r\n                    if (isReadOnly) {\r\n                        elx.addClass('readonly').attr('disabled', 'disabled');\r\n                    }\r\n                    else {\r\n                        elx.removeClass('readonly').removeAttr('disabled');\r\n                    }\r\n                }\r\n                else if (isReadOnly) {\r\n                    elx.addClass('readonly').attr('readonly', 'readonly');\r\n                }\r\n                else {\r\n                    elx.removeClass('readonly').removeAttr('readonly');\r\n                }\r\n                return true;\r\n            });\r\n            return elements;\r\n        }\r\n\r\n        export function setReadOnly(widget: Serenity.Widget<any>, isReadOnly: boolean): void {\r\n\r\n            var readOnly = Q.safeCast(widget, Serenity.IReadOnly);\r\n\r\n            if (readOnly != null) {\r\n                readOnly.set_readOnly(isReadOnly);\r\n            }\r\n            else if (widget.element.is(':input')) {\r\n                setReadonly(widget.element, isReadOnly);\r\n            }\r\n        }\r\n\r\n        export function setRequired(widget: Serenity.Widget<any>, isRequired: boolean): void {\r\n            var req = Q.safeCast(widget, IValidateRequired);\r\n            if (req != null) {\r\n                req.set_required(isRequired);\r\n            }\r\n            else if (widget.element.is(':input')) {\r\n                widget.element.toggleClass('required', !!isRequired);\r\n            }\r\n            var gridField = widget.element.closest('.field');\r\n            var hasSupItem = gridField.find('sup').get().length > 0;\r\n            if (isRequired && !hasSupItem) {\r\n                $('<sup>*</sup>').attr('title', Q.text('Controls.PropertyGrid.RequiredHint'))\r\n                    .prependTo(gridField.find('.caption')[0]);\r\n            }\r\n            else if (!isRequired && hasSupItem) {\r\n                $(gridField.find('sup')[0]).remove();\r\n            }\r\n        }\r\n\r\n        export function setContainerReadOnly(container: JQuery, readOnly: boolean) {\r\n\r\n            if (!readOnly) {\r\n\r\n                if (!container.hasClass('readonly-container'))\r\n                    return;\r\n\r\n                container.removeClass('readonly-container').find(\".editor.container-readonly\")\r\n                    .removeClass('container-readonly').each((i, e) => {\r\n                        var w = $(e).tryGetWidget(Serenity.Widget);\r\n                        if (w != null)\r\n                            Serenity.EditorUtils.setReadOnly(w, false);\r\n                        else\r\n                            Serenity.EditorUtils.setReadonly($(e), false);\r\n                    });\r\n\r\n                return;\r\n            }\r\n\r\n            container.addClass('readonly-container').find(\".editor\")\r\n                .not('.container-readonly')\r\n                .each((i, e) => {\r\n                    var w = $(e).tryGetWidget(Serenity.Widget);\r\n                    if (w != null) {\r\n\r\n                        if (w['get_readOnly']) {\r\n                            if (w['get_readOnly']())\r\n                                return;\r\n                        }\r\n                        else if ($(e).is('[readonly]') || $(e).is('[disabled]') || $(e).is('.readonly') || $(e).is('.disabled'))\r\n                            return;\r\n\r\n                        $(e).addClass('container-readonly');\r\n                        Serenity.EditorUtils.setReadOnly(w, true);\r\n\r\n                    }\r\n                    else {\r\n                        if ($(e).is('[readonly]') || $(e).is('[disabled]') || $(e).is('.readonly') || $(e).is('.disabled'))\r\n                            return;\r\n\r\n                        Serenity.EditorUtils.setReadonly($(e).addClass('container-readonly'), true);\r\n                    }\r\n                });\r\n        }\r\n    }\r\n}","namespace Serenity {\r\n    export namespace LazyLoadHelper {\r\n        let autoIncrement = 0;\r\n\r\n        export function executeOnceWhenShown(element: JQuery, callback: Function) {\r\n            var el = element && element[0];\r\n            if (!el)\r\n                return;\r\n            \r\n            if (el.offsetWidth > 0 && el.offsetHeight > 0) {\r\n                callback();\r\n                return;\r\n            }\r\n\r\n            var timer = Q.LayoutTimer.onShown(() => el, () => {\r\n                Q.LayoutTimer.off(timer);\r\n                callback();\r\n            });\r\n        }\r\n\r\n        export function executeEverytimeWhenShown(element: JQuery, callback: Function, callNowIfVisible: boolean) {\r\n            var el = element && element[0];\r\n            if (!el)\r\n                return;\r\n            \r\n            if (callNowIfVisible && el.offsetWidth > 0 && el.offsetHeight > 0) {\r\n                callback();\r\n            }\r\n\r\n            Q.LayoutTimer.onShown(() => el, () => {\r\n                callback();\r\n            });\r\n        }\r\n    }\r\n}","namespace Serenity {\r\n    export namespace SubDialogHelper {\r\n        export function bindToDataChange(dialog: any, owner: Serenity.Widget<any>,\r\n            dataChange: (p1: any, p2: DataChangeInfo) => void, useTimeout?: boolean): any {\r\n            var widgetName = (owner as any).widgetName;\r\n            dialog.element.bind('ondatachange.' + widgetName, function (e: JQueryEventObject, dci: any) {\r\n                if (useTimeout) {\r\n                    window.setTimeout(function () {\r\n                        dataChange(e, dci);\r\n                    }, 0);\r\n                }\r\n                else {\r\n                    dataChange(e, dci);\r\n                }\r\n            }).bind('remove.' + widgetName, function () {\r\n                dialog.element.unbind('ondatachange.' + widgetName);\r\n            });\r\n            return dialog;\r\n        }\r\n\r\n        export function triggerDataChange(dialog: Serenity.Widget<any>): any {\r\n            dialog.element.triggerHandler('ondatachange');\r\n            return dialog;\r\n        }\r\n\r\n        export function triggerDataChanged(element: JQuery): JQuery {\r\n            element.triggerHandler('ondatachange');\r\n            return element;\r\n        }\r\n\r\n        export function bubbleDataChange(dialog: any, owner: Serenity.Widget<any>, useTimeout?: boolean): any {\r\n            return bindToDataChange(dialog, owner, function (e, dci) {\r\n                owner.element.triggerHandler('ondatachange');\r\n            }, useTimeout);\r\n        }\r\n\r\n        export function cascade(cascadedDialog: any, ofElement: JQuery): any {\r\n            cascadedDialog.element.one('dialogopen', function (e: JQueryEventObject) {\r\n                cascadedDialog.element.dialog().dialog('option', 'position', cascadedDialogOffset(ofElement));\r\n            });\r\n            return cascadedDialog;\r\n        }\r\n\r\n        export function cascadedDialogOffset(element: JQuery): any {\r\n            return { my: 'left top', at: 'left+20 top+20', of: element[0] };\r\n        }\r\n    }\r\n}","namespace Serenity {\r\n    export class PrefixedContext {\r\n        constructor(public readonly idPrefix: string) {\r\n        }\r\n\r\n        byId(id: string): JQuery {\r\n            return $('#' + this.idPrefix + id);\r\n        }\r\n\r\n        w<TWidget>(id: string, type: { new (...args: any[]): TWidget }): TWidget {\r\n            return $('#' + this.idPrefix + id).getWidget<TWidget>(type);\r\n        }\r\n    }\r\n}","namespace Serenity {\r\n\r\n    function applyJQueryUIFixes(): boolean {\r\n        if (typeof $ == \"undefined\" || !$.ui || !$.ui.dialog || !$.ui.dialog.prototype)\r\n            return false;\r\n        $.ui.dialog.prototype._allowInteraction = function (event: any) {\r\n            if ($(event.target).closest(\".ui-dialog\").length) {\r\n                return true;\r\n            }\r\n            return !!$(event.target).closest(\".ui-datepicker, .select2-drop, .cke, .cke_dialog, #support-modal\").length;\r\n        };\r\n\r\n        (function (orig) {\r\n            $.ui.dialog.prototype._focusTabbable = function () {\r\n                if ($(document.body).hasClass('mobile-device')) {\r\n                    this.uiDialog && this.uiDialog.focus();\r\n                    return;\r\n                }\r\n                orig.call(this);\r\n            }\r\n        })($.ui.dialog.prototype._focusTabbable);\r\n\r\n        (function (orig) {\r\n            $.ui.dialog.prototype._createTitlebar = function () {\r\n                orig.call(this);\r\n                this.uiDialogTitlebar.find('.ui-dialog-titlebar-close').html('<i class=\"fa fa-times\" />');\r\n            }\r\n        })($.ui.dialog.prototype._createTitlebar);\r\n    }\r\n\r\n    !applyJQueryUIFixes() && typeof $ !== \"undefined\" && $(applyJQueryUIFixes);\r\n\r\n    if (typeof $ !== \"undefined\") {\r\n        ($ as any).cleanData = (function (orig) {\r\n            return function (elems: any[]) {\r\n                var events, elem, i, e;\r\n                var cloned = elems;\r\n                for (i = 0; (elem = cloned[i]) != null; i++) {\r\n                    try {\r\n                        events = ($ as any)._data(elem, \"events\");\r\n                        if (events && events.remove) {\r\n                            // html collection might change during remove event, so clone it!\r\n                            if (cloned === elems)\r\n                                cloned = Array.prototype.slice.call(elems);\r\n                            $(elem).triggerHandler(\"remove\");\r\n                            delete events.remove;\r\n                        }\r\n                    } catch (e) { }\r\n                }\r\n                orig(elems);\r\n            };\r\n        })(($ as any).cleanData);\r\n    }\r\n}\r\n"]}