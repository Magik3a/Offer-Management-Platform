var Slick;(function(e){var t;(function(e){function t(e){this.field_=e;this.init=function(){this.count_=0;this.nonNullCount_=0;this.sum_=0};this.accumulate=function(e){var t=e[this.field_];this.count_++;if(t!=null&&t!==""&&!isNaN(t)){this.nonNullCount_++;this.sum_+=parseFloat(t)}};this.storeResult=function(e){if(!e.avg){e.avg={}}if(this.nonNullCount_!=0){e.avg[this.field_]=this.sum_/this.nonNullCount_}}}e.Avg=t;function r(e,t){this.field_=e;this.weightedField_=t;this.init=function(){this.sum_=0;this.weightedSum_=0};this.accumulate=function(e){var t=e[this.field_];var r=e[this.weightedField_];if(this.isValid(t)&&this.isValid(r)){this.weightedSum_+=parseFloat(r);this.sum_+=parseFloat(t)*parseFloat(r)}};this.storeResult=function(e){if(!e.avg){e.avg={}}if(this.sum_&&this.weightedSum_){e.avg[this.field_]=this.sum_/this.weightedSum_}};this.isValid=function(e){return e!==null&&e!==""&&!isNaN(e)}}e.WeightedAvg=r;function n(e){this.field_=e;this.init=function(){this.min_=null};this.accumulate=function(e){var t=e[this.field_];if(t!=null&&t!==""&&!isNaN(t)){if(this.min_==null||t<this.min_){this.min_=t}}};this.storeResult=function(e){if(!e.min){e.min={}}e.min[this.field_]=this.min_}}e.Min=n;function i(e){this.field_=e;this.init=function(){this.max_=null};this.accumulate=function(e){var t=e[this.field_];if(t!=null&&t!==""&&!isNaN(t)){if(this.max_==null||t>this.max_){this.max_=t}}};this.storeResult=function(e){if(!e.max){e.max={}}e.max[this.field_]=this.max_}}e.Max=i;function a(e){this.field_=e;this.init=function(){this.sum_=null};this.accumulate=function(e){var t=e[this.field_];if(t!=null&&t!==""&&!isNaN(t)){this.sum_+=parseFloat(t)}};this.storeResult=function(e){if(!e.sum){e.sum={}}e.sum[this.field_]=this.sum_}}e.Sum=a})(t=e.Aggregators||(e.Aggregators={}))})(Slick||(Slick={}));var Slick;(function(e){var t=function(){function t(t){var r;var n=this;var i={groupItemMetadataProvider:null,inlineFilters:false};var a;var o=[];var l=[];var s={};var u=null;var f=null;var g=null;var c=0;var v=true;var d;var p;var h={};var m={};var _;var w=[];var y;var C;var P=[];var S={getter:null,formatter:null,comparer:function(e,t){return e.value===t.value?0:e.value>t.value?1:-1},predefinedValues:[],aggregators:[],aggregateEmpty:false,aggregateCollapsed:false,aggregateChildGroups:false,collapsed:false,displayTotalsRow:true,lazyTotalsCalculation:false};var I={};var R=[];var x=[];var T=[];var E=":|:";var b=1;var F=0;var A=new e.Event;var N=new e.Event;var M=new e.Event;var k=new e.Event;var j=new e.Event;var G=new e.Event;var B=new e.Event;var D=new e.Event;var O=new e.Event;var K=false;var V=null;var L=0;var z=0;var U;var q;var J=null;var H=(r=t===null||t===void 0?void 0:t.localSort)!==null&&r!==void 0?r:false;var W;function X(){c++}function Y(){c--;if(c<=0)gr()}function Z(e){h=e}function et(e){_=e}function tt(e){e=e||0;var t;for(var r=e,n=o.length;r<n;r++){t=o[r][a];if(t===undefined){var i="Each data element must implement a unique '"+a+"' property. Object at index '"+r+"' "+"has no identity value: ";i+=$.toJSON(o[r]);throw i}s[t]=r}}function rt(){var e;for(var t=0,r=o.length;t<r;t++){e=o[t][a];if(e===undefined||s[e]!==t){var n="Each data element must implement a unique '"+a+"' property. Object at index '"+t+"' ";if(e==undefined)n+="has no identity value: ";else n+="has repeated identity value '"+e+"': ";n+=$.toJSON(o[t]);throw n}}}function nt(){return o}function it(){return a}function at(e,t){if(t!=null&&typeof t=="string")a=t;o=w=e;if(H){o.sort(st())}s={};u=null;I.totals={};tt();rt();if(c){fr(o)}else{gr()}A.notify({dataView:n},null,n)}function ot(e){var t=false;if(e.rowsPerPage!=undefined&&W.rowsPerPage!=e.rowsPerPage){W.rowsPerPage=e.rowsPerPage;t=true}if(e.page!=undefined){var r;if(!W.rowsPerPage)r=1;else if(J==null)r=e.page;else r=Math.min(e.page,Math.ceil(J/W.rowsPerPage)+1);if(r<1)r=1;if(r!=b){W.seekToPage=r;t=true}}if(t)pr()}function lt(){return{rowsPerPage:W.rowsPerPage,page:b,totalCount:J,loading:K,error:V,dataView:n}}function st(){if(p!=null)return p;var e=[];var t=[];var r=W.sortBy||[];for(var n=0,i=r;n<i.length;n++){var a=i[n];if(a==null)continue;if(a.length>5&&a.toLowerCase().substr(a.length-5).toLowerCase()==" desc"){t.push(false);e.push(a.substr(0,a.length-5))}else{t.push(true);e.push(a)}}return function(r,n){for(var i=0,a=e.length;i<a;i++){var o=e[i];var l=t[i]?1:-1;var s=r[o],u=n[o];var f=(s==u?0:s>u?1:-1)*l;if(f!=0){return f}}return 0}}function ut(e,t){v=t;d=null;if(t===false){o.reverse()}p=e;o.sort(st());if(t===false){o.reverse()}s={};tt();gr()}function ft(){return H}function gt(e){if(H!=e){H=e;ut()}}function ct(e,t){v=t;d=e;p=null;var r=Object.prototype.toString;Object.prototype.toString=typeof e==="function"?e:function(){return this[e]};if(t===false){o.reverse()}o.sort();Object.prototype.toString=r;if(t===false){o.reverse()}s={};tt();gr()}function vt(){if(d)ct(d,v);else ut(p,v)}function dt(){return w}function pt(){return f}function ht(e){f=e;if(t.inlineFilters){y=nr();C=ir()}gr()}function mt(){return R}function _t(e){e=e||{};I.aggregators=e.aggregators||[];I.compiledAccumulators=[];I.totals={};var t=I.aggregators.length;while(t--){I.compiledAccumulators[t]=rr(I.aggregators[t])}yt(R||[])}function wt(){I.totals=I.totals||{};if(!I.totals.initialized){I.aggregators=I.aggregators||[];I.compiledAccumulators=I.compiledAccumulators||[];var e,t=I.aggregators.length;while(t--){e=I.aggregators[t];e.init();I.compiledAccumulators[t].call(e,o);e.storeResult(I.totals)}I.totals.initialized=true}return I.totals}function yt(r){if(!t.groupItemMetadataProvider){t.groupItemMetadataProvider=new e.Data.GroupItemMetadataProvider}x=[];T=[];r=r||[];R=r instanceof Array?r:[r];for(var n=0;n<R.length;n++){var i=R[n]=Q.extend(Q.extend({},S),Q.deepClone(R[n]));i.aggregators=i.aggregators||I.aggregators||[];i.getterIsAFn=typeof i.getter==="function";i.compiledAccumulators=[];var a=i.aggregators.length;while(a--){i.compiledAccumulators[a]=rr(i.aggregators[a])}T[n]={}}gr()}function Ct(e){return o[e]}function $t(e){return s[e]}function Pt(){if(!u){u={};for(var e=0,t=l.length;e<t;e++){u[l[e][a]]=e}}}function St(e){Pt();return u[e[a]]}function It(e){Pt();return u[e]}function Rt(e){return o[s[e]]}function xt(e){var t=[];Pt();for(var r=0,n=e.length;r<n;r++){var i=u[e[r][a]];if(i!=null){t[t.length]=i}}return t}function Tt(e){var t=[];Pt();for(var r=0,n=e.length;r<n;r++){var i=u[e[r]];if(i!=null){t[t.length]=i}}return t}function Et(e){var t=[];for(var r=0,n=e.length;r<n;r++){if(e[r]<l.length){t[t.length]=l[e[r]][a]}}return t}function bt(e,t){if(s[e]===undefined){throw new Error("Invalid id")}if(e!==t[a]){var r=t[a];if(r==null){throw new Error("Cannot update item to associate with a null id")}if(s[r]!==undefined){throw new Error("Cannot update item to associate with a non-unique id")}s[r]=s[e];delete s[e];if(g&&g[e]){delete g[e]}e=r}o[s[e]]=t;if(!g){g={}}g[e]=true;gr()}function Ft(e,t){o.splice(e,0,t);tt(e);gr()}function At(e){o.push(e);tt(o.length-1);gr()}function Nt(e){var t=s[e];if(t===undefined){throw"Invalid id"}delete s[e];o.splice(t,1);tt(t);gr()}function Mt(e){Ft(jt(e),e)}function kt(e,t){if(s[e]===undefined||e!==t[a]){throw new Error("Invalid or non-matching id "+s[e])}var r=st();var n=Rt(e);if(r(n,t)!==0){Nt(e);Mt(t)}else{bt(e,t)}}function jt(e){var t=0,r=o.length;var n=st();while(t<r){var i=t+r>>>1;if(n(o[i],e)===-1){t=i+1}else{r=i}}return t}function Gt(){return l}function Bt(){return l.length}function Dt(e){var t=l[e];if(t&&t.__group&&t.totals&&!t.totals.initialized){var r=R[t.level];if(!r.displayTotalsRow){Xt(t.totals);t.title=r.formatter?r.formatter(t):t.value}}else if(t&&t.__groupTotals&&!t.initialized){Xt(t)}return t}function Ot(e){var r=l[e];if(r===undefined){return null}if(r.__group){return t.groupItemMetadataProvider.getGroupRowMetadata(r)}if(r.__groupTotals){return t.groupItemMetadataProvider.getTotalsRowMetadata(r)}return t.getItemMetadata&&t.getItemMetadata(r,e)||null}function Kt(e,t){if(e==null){for(var r=0;r<R.length;r++){T[r]={};R[r].collapsed=t;if(t===true){j.notify({level:r,groupingKey:null})}else{k.notify({level:r,groupingKey:null})}}}else{T[e]={};R[e].collapsed=t;if(t===true){j.notify({level:e,groupingKey:null})}else{k.notify({level:e,groupingKey:null})}}gr()}function Vt(e){Kt(e,true)}function Lt(e){Kt(e,false)}function zt(e){var t=e[0];if(e.length===1&&t.indexOf(E)!==-1){return{level:t.split(E).length-1,groupingKey:t}}else{return{level:e.length-1,groupingKey:e.join(E)}}}function Qt(e,t){var r=zt(e);T[r.level][r.groupingKey]=R[r.level].collapsed^t;if(t)j.notify({level:r.level,groupingKey:r.groupingKey});else k.notify({level:r.level,groupingKey:r.groupingKey});gr()}function Ut(e){var t=Array.prototype.slice.call(arguments);Qt(t,true)}function qt(e){var t=Array.prototype.slice.call(arguments);Qt(t,false)}function Jt(){return x}function Ht(t,r,n,i,a){var o=t[r];if(!o){o=new e.Group;o.value=r;o.level=n;o.groupingKey=(i?i.groupingKey+E:"")+r;a[a.length]=o;t[r]=o}return o}function Wt(e,t){var r;var n;var i=[];var a={};var o;var l=t?t.level+1:0;var s=R[l];for(var u=0,f=s.predefinedValues.length;u<f;u++){n=s.predefinedValues[u];r=Ht(a,n,l,t,i)}for(var u=0,f=e.length;u<f;u++){o=e[u];n=s.getterIsAFn?s.getter(o):o[s.getter];r=Ht(a,n,l,t,i);r.rows[r.count++]=o}if(l<R.length-1){for(var u=0;u<i.length;u++){r=i[u];r.groups=Wt(r.rows,r)}}if(i.length){Zt(i,l)}i.sort(R[l].comparer);return i}function Xt(e){var t=e.group;var r=R[t.level];var n=t.level==R.length;var i,a=r.aggregators.length;if(!n&&r.aggregateChildGroups){var o=t.groups.length;while(o--){if(!t.groups[o].totals.initialized){Xt(t.groups[o].totals)}}}while(a--){i=r.aggregators[a];i.init();if(!n&&r.aggregateChildGroups){r.compiledAccumulators[a].call(i,t.groups)}else{r.compiledAccumulators[a].call(i,t.rows)}i.storeResult(e)}e.initialized=true}function Yt(t){var r=R[t.level];var n=new e.GroupTotals;n.group=t;t.totals=n;if(!r.lazyTotalsCalculation){Xt(n)}}function Zt(e,t){t=t||0;var r=R[t];var n=r.collapsed;var i=T[t];var a=e.length,o;while(a--){o=e[a];if(o.collapsed&&!r.aggregateCollapsed){continue}if(o.groups){Zt(o.groups,t+1)}if(r.aggregators.length&&(r.aggregateEmpty||o.rows.length||o.groups&&o.groups.length)){Yt(o)}o.collapsed=n^i[o.groupingKey];o.title=r.formatter?r.formatter(o):o.value}}function er(e,t){t=t||0;var r=R[t];var n=[],i,a=0,o;for(var l=0,s=e.length;l<s;l++){o=e[l];n[a++]=o;if(!o.collapsed){i=o.groups?er(o.groups,t+1):o.rows;for(var u=0,f=i.length;u<f;u++){n[a++]=i[u]}}if(o.totals&&r.displayTotalsRow&&(!o.collapsed||r.aggregateCollapsed)){n[a++]=o.totals}}return n}function tr(e){var t=/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/;var r=e.toString().match(t);return{params:r[1].split(","),body:r[2]}}function rr(e){var t=tr(e.accumulate);var r=new Function("_items","for (var "+t.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+t.params[0]+" = _items[_i]; "+t.body+"}");r.displayName=r.name="compiledAccumulatorLoop";return r}function nr(){var e=tr(f);var t=e.body.replace(/return false\s*([;}]|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|$)/gi,"{ _retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2");var r=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");r=r.replace(/\$filter\$/gi,t);r=r.replace(/\$item\$/gi,e.params[0]);r=r.replace(/\$args\$/gi,e.params[1]);var n=new Function("_items,_args",r);n.displayName=n.name="compiledFilter";return n}function ir(){var e=tr(f);var t=e.body.replace(/return false\s*([;}]|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|$)/gi,"{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2");var r=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");r=r.replace(/\$filter\$/gi,t);r=r.replace(/\$item\$/gi,e.params[0]);r=r.replace(/\$args\$/gi,e.params[1]);var n=new Function("_items,_args,_cache",r);var i="compiledFilterWithCaching";n.displayName=i;n.name=ar(n,i);return n}function ar(e,t){try{Object.defineProperty(e,"name",{writable:true,value:t})}catch(r){e.name=t}}function or(e,t){var r=[],n=0;for(var i=0,a=e.length;i<a;i++){if(f(e[i],t)){r[n++]=e[i]}}return r}function lr(e,t,r){var n=[],i=0,a;for(var o=0,l=e.length;o<l;o++){a=e[o];if(r[o]){n[i++]=a}else if(f(a,t)){n[i++]=a;r[o]=true}}return n}function sr(e){if(f){var r=t.inlineFilters?y:or;var n=t.inlineFilters?C:lr;if(h.isFilterNarrowing){w=r(w,_)}else if(h.isFilterExpanding){w=n(e,_,P)}else if(!h.isFilterUnchanged){w=r(e,_)}}else{w=e.concat()}return{totalRows:w.length,rows:w}}function ur(e,t){var r,n,i,o=[];var l=0,s=t.length;if(h&&h.ignoreDiffsBefore){l=Math.max(0,Math.min(t.length,h.ignoreDiffsBefore))}if(h&&h.ignoreDiffsAfter){s=Math.min(t.length,Math.max(0,h.ignoreDiffsAfter))}for(var u=l,f=e.length;u<s;u++){if(u>=f){o[o.length]=u}else{r=t[u];n=e[u];if(R.length&&(i=r.__nonDataRow||n.__nonDataRow)&&r.__group!==n.__group||r.__group&&!r.equals(n)||i&&(r.__groupTotals||n.__groupTotals)||r[a]!=n[a]||g&&g[r[a]]){o[o.length]=u}}}return o}function fr(e){u=null;if(h.isFilterNarrowing!=m.isFilterNarrowing||h.isFilterExpanding!=m.isFilterExpanding){P=[]}var t=sr(e);F=t.totalRows;var r=t.rows;I.totals={};x=[];if(R.length){x=Wt(r);if(x.length){r=er(x)}}var n=ur(l,r);l=r;return n}function gr(){if(c){return}var e=l.length;var t=F;var r=fr(o);g=null;m=h;h={};if(t!==F){G.notify(lt(),null,n)}if(e!==l.length){B.notify({previous:e,current:l.length,dataView:n},null,n)}if(r.length>0){D.notify({rows:r,dataView:n},null,n)}if(e!==l.length||r.length>0){O.notify({rowsDiff:r,previousRowCount:e,currentRowCount:l.length,rowCountChanged:e!==l.length,rowsChanged:r.length>0,dataView:n},null,n)}}function cr(t,r,n){var i=this;var a;var o=i.mapRowsToIds(t.getSelectedRows());var l=new e.Event;function s(r){if(o.join(",")==r.join(",")){return}o=r;l.notify({grid:t,ids:o,dataView:i},new e.EventData,i)}function u(){if(o.length>0){a=true;var e=i.mapIdsToRows(o);if(!r){s(i.mapRowsToIds(e))}t.setSelectedRows(e);a=false}}t.onSelectedRowsChanged.subscribe(function(e,r){if(a){return}var l=i.mapRowsToIds(t.getSelectedRows());if(!n||!t.getOptions().multiSelect){s(l)}else{var u=$.grep(o,function(e){return i.getRowById(e)===undefined});s(u.concat(l))}});this.onRowsChanged.subscribe(u);this.onRowCountChanged.subscribe(u);return l}function vr(e,t){var r;var n;i(e.getCellCssStyles(t));function i(e){r={};for(var t in e){var n=l[t][a];r[n]=e[t]}}function o(){if(r){n=true;Pt();var i={};for(var a in r){var o=u[a];if(o!=undefined){i[o]=r[a]}}e.setCellCssStyles(t,i);n=false}}var s=function(r,a){if(n){return}if(t!=a.key){return}if(a.hash){i(a.hash)}else{e.onCellCssStylesChanged.unsubscribe(s);O.unsubscribe(o)}};e.onCellCssStylesChanged.subscribe(s);O.subscribe(o)}function dr(e){if(W.onProcessData&&e)e=W.onProcessData(e,W)||e;V=null;K&&K.abort();K=false;if(!e){V=W.errormsg;G.notify(lt());return false}e.TotalCount=e.TotalCount||0;e.Entities=e.Entities||[];if(!e.Skip||!W.rowsPerPage&&!e.Take)e.Page=1;else e.Page=Math.ceil(e.Skip/(e.Take||W.rowsPerPage))+1;b=e.Page;J=e.TotalCount;at(e.Entities);G.notify(lt())}function pr(){if(L>0){z++;return}z=0;K&&K.abort();if(W.onSubmit){var e=W.onSubmit(W);if(e===false)return false}N.notify(this);if(!W.url)return false;if(!W.seekToPage)W.seekToPage=1;var t={};var r=(W.seekToPage-1)*W.rowsPerPage;if(r)t.Skip=r;if(W.rowsPerPage)t.Take=W.rowsPerPage;if(W.sortBy&&W.sortBy.length){if(typeof W.sortBy!=="string")t.Sort=W.sortBy;else{t.Sort=[W.sortBy]}}if(W.params){t=Q.extend(t,W.params)}var n=q;var i={cache:false,type:W.method,contentType:U,url:W.url,data:t,dataType:n,success:function(e){K=false;if(e.Error)Q.notifyError(e.Error.Message||e.Error.Code);else dr(e);M.notify(this)},error:function(e,t,r){K=false;if((e.getResponseHeader("content-type")||"").toLowerCase().indexOf("application/json")>=0){var n=$.parseJSON(e.responseText);if(n!=null&&n.Error!=null){Q.notifyError(n.Error.Message||n.Error.Code);G.notify(lt());M.notify(this);return}}V=e.errormsg;G.notify(lt());M.notify(this)},complete:function(){K=false}};if(W.onAjaxCall){var a=W.onAjaxCall(this,i);if(a===false){K=false;G.notify(lt());return false}}i.data=$.toJSON(i.data);G.notify(lt());K=$.ajax(i)}function hr(){if(L==0)z=0;L++}function mr(){if(L>0){L--;if(L==0&&z>0)pr()}}W={beginUpdate:X,endUpdate:Y,setPagingOptions:ot,getPagingInfo:lt,getIdPropertyName:it,getRows:Gt,getItems:nt,setItems:at,getFilter:pt,getFilteredItems:dt,setFilter:ht,sort:ut,fastSort:ct,reSort:vt,getLocalSort:ft,setLocalSort:gt,setSummaryOptions:_t,getGrandTotals:wt,setGrouping:yt,getGrouping:mt,collapseAllGroups:Vt,expandAllGroups:Lt,collapseGroup:Ut,expandGroup:qt,getGroups:Jt,getIdxById:$t,getRowByItem:St,getRowById:It,getItemById:Rt,getItemByIdx:Ct,mapItemsToRows:xt,mapRowsToIds:Et,mapIdsToRows:Tt,setRefreshHints:Z,setFilterArgs:et,refresh:gr,updateItem:bt,insertItem:Ft,addItem:At,deleteItem:Nt,sortedAddItem:Mt,sortedUpdateItem:kt,syncGridSelection:cr,syncGridCellCssStyles:vr,getLength:Bt,getItem:Dt,getItemMetadata:Ot,onRowCountChanged:B,onRowsChanged:D,onRowsOrCountChanged:O,onPagingInfoChanged:G,onGroupExpanded:k,onGroupCollapsed:j,addData:dr,populate:pr,populateLock:hr,populateUnlock:mr,onDataChanged:A,onDataLoaded:M,onDataLoading:N};a=t.idField||"id";U=t.contentType||"application/json";q=t.dataType||"json";f=t.filter||null;W.params=t.params||{};W.onSubmit=t.onSubmit||null;W.url=t.url||null;W.rowsPerPage=t.rowsPerPage||0;W.seekToPage=t.seekToPage||1;W.onAjaxCall=t.onAjaxCall||null;W.onProcessData=t.onProcessData||null;W.method=t.method||"POST";W.errormsg=W.errormsg||Q.text("Controls.Pager.DefaultLoadError");W.sortBy=typeof t.sortBy=="string"?[t.sortBy]:t.sortBy||[];W.idField=a;if(t.url&&t.autoLoad){pr()}return W}return t}();e.RemoteView=t})(Slick||(Slick={}));