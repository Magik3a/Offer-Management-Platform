var Slick;(function(e){var t;(function(e){function t(e){this.field_=e;this.init=function(){this.count_=0;this.nonNullCount_=0;this.sum_=0};this.accumulate=function(e){var t=e[this.field_];this.count_++;if(t!=null&&t!==""&&!isNaN(t)){this.nonNullCount_++;this.sum_+=parseFloat(t)}};this.storeResult=function(e){if(!e.avg){e.avg={}}if(this.nonNullCount_!=0){e.avg[this.field_]=this.sum_/this.nonNullCount_}}}e.Avg=t;function r(e,t){this.field_=e;this.weightedField_=t;this.init=function(){this.sum_=0;this.weightedSum_=0};this.accumulate=function(e){var t=e[this.field_];var r=e[this.weightedField_];if(this.isValid(t)&&this.isValid(r)){this.weightedSum_+=parseFloat(r);this.sum_+=parseFloat(t)*parseFloat(r)}};this.storeResult=function(e){if(!e.avg){e.avg={}}if(this.sum_&&this.weightedSum_){e.avg[this.field_]=this.sum_/this.weightedSum_}};this.isValid=function(e){return e!==null&&e!==""&&!isNaN(e)}}e.WeightedAvg=r;function i(e){this.field_=e;this.init=function(){this.min_=null};this.accumulate=function(e){var t=e[this.field_];if(t!=null&&t!==""&&!isNaN(t)){if(this.min_==null||t<this.min_){this.min_=t}}};this.storeResult=function(e){if(!e.min){e.min={}}e.min[this.field_]=this.min_}}e.Min=i;function a(e){this.field_=e;this.init=function(){this.max_=null};this.accumulate=function(e){var t=e[this.field_];if(t!=null&&t!==""&&!isNaN(t)){if(this.max_==null||t>this.max_){this.max_=t}}};this.storeResult=function(e){if(!e.max){e.max={}}e.max[this.field_]=this.max_}}e.Max=a;function n(e){this.field_=e;this.init=function(){this.sum_=null};this.accumulate=function(e){var t=e[this.field_];if(t!=null&&t!==""&&!isNaN(t)){this.sum_+=parseFloat(t)}};this.storeResult=function(e){if(!e.sum){e.sum={}}e.sum[this.field_]=this.sum_}}e.Sum=n})(t=e.Aggregators||(e.Aggregators={}))})(Slick||(Slick={}));var Slick;(function(e){var t=function(){function t(t){var r=this;var i={groupItemMetadataProvider:null,inlineFilters:false};var a;var n=[];var o=[];var l={};var s=null;var u=null;var f=null;var g=0;var c=true;var v;var d;var p={};var h={};var m;var _=[];var w;var y;var P=[];var C={getter:null,formatter:null,comparer:function(e,t){return e.value===t.value?0:e.value>t.value?1:-1},predefinedValues:[],aggregateEmpty:false,aggregateCollapsed:false,aggregateChildGroups:false,collapsed:false,displayTotalsRow:true,lazyTotalsCalculation:false};var S={};var x=[];var R=[];var I=[];var T=":|:";var F=1;var b=0;var A=new e.Event;var E=new e.Event;var N=new e.Event;var M=false;var k=null;var j=0;var D=0;var G;var B;var O=null;var V=new e.Event;var z=new e.Event;var L=new e.Event;var K=new e.Event;var J;function U(){g++}function q(){g--;if(g<=0)Ht()}function H(e){p=e}function W(e){m=e}function X(e){e=e||0;var t;for(var r=e,i=n.length;r<i;r++){t=n[r][a];if(t===undefined){var o="Each data element must implement a unique '"+a+"' property. Object at index '"+r+"' "+"has no identity value: ";o+=$.toJSON(n[r]);throw o}l[t]=r}}function Y(){var e;for(var t=0,r=n.length;t<r;t++){e=n[t][a];if(e===undefined||l[e]!==t){var i="Each data element must implement a unique '"+a+"' property. Object at index '"+t+"' ";if(e==undefined)i+="has no identity value: ";else i+="has repeated identity value '"+e+"': ";i+=$.toJSON(n[t]);throw i}}}function Z(){return n}function et(e){n=_=e;l={};s=null;S.totals={};X();Y();if(g){qt(n)}else{Ht()}V.notify({dataView:r},null,r)}function tt(e){var t=false;if(e.rowsPerPage!=undefined&&J.rowsPerPage!=e.rowsPerPage){J.rowsPerPage=e.rowsPerPage;t=true}if(e.page!=undefined){var r;if(!J.rowsPerPage)r=1;else if(O==null)r=e.page;else r=Math.min(e.page,Math.ceil(O/J.rowsPerPage)+1);if(r<1)r=1;if(r!=F){J.seekToPage=r;t=true}}if(t)Zt()}function rt(){return{rowsPerPage:J.rowsPerPage,page:F,totalCount:O,loading:M,error:k,dataView:r}}function it(e,t){c=t;d=e;v=null;if(t===false){n.reverse()}n.sort(e);if(t===false){n.reverse()}l={};X();Ht()}function at(e,t){c=t;v=e;d=null;var r=Object.prototype.toString;Object.prototype.toString=typeof e==="function"?e:function(){return this[e]};if(t===false){n.reverse()}n.sort();Object.prototype.toString=r;if(t===false){n.reverse()}l={};X();Ht()}function nt(){if(d){it(d,c)}else if(v){at(v,c)}}function ot(e){u=e;if(t.inlineFilters){w=zt();y=Lt()}Ht()}function lt(){return x}function st(e){e=e||{};S.aggregators=e.aggregators||[];S.compiledAccumulators=[];S.totals={};var t=S.aggregators.length;while(t--){S.compiledAccumulators[t]=Vt(S.aggregators[t])}ft(x||[])}function ut(){S.totals=S.totals||{};if(!S.totals.initialized){S.aggregators=S.aggregators||[];S.compiledAccumulators=S.compiledAccumulators||[];var e,t=S.aggregators.length;while(t--){e=S.aggregators[t];e.init();S.compiledAccumulators[t].call(e,n);e.storeResult(S.totals)}S.totals.initialized=true}return S.totals}function ft(r){if(!t.groupItemMetadataProvider){t.groupItemMetadataProvider=new e.Data.GroupItemMetadataProvider}R=[];I=[];r=r||[];x=r instanceof Array?r:[r];for(var i=0;i<x.length;i++){var a=x[i]=Q.extend(Q.extend({},C),Q.deepClone(x[i]));a.aggregators=a.aggregators||S.aggregators||[];a.getterIsAFn=typeof a.getter==="function";a.compiledAccumulators=[];var n=a.aggregators.length;while(n--){a.compiledAccumulators[n]=Vt(a.aggregators[n])}I[i]={}}Ht()}function gt(e){return n[e]}function ct(e){return l[e]}function vt(){if(!s){s={};for(var e=0,t=o.length;e<t;e++){s[o[e][a]]=e}}}function dt(e){vt();return s[e]}function pt(e){return n[l[e]]}function ht(e){var t=[];vt();for(var r=0,i=e.length;r<i;r++){var a=s[e[r]];if(a!=null){t[t.length]=a}}return t}function mt(e){var t=[];for(var r=0,i=e.length;r<i;r++){if(e[r]<o.length){t[t.length]=o[e[r]][a]}}return t}function _t(e,t){if(l[e]===undefined||e!==t[a]){throw"Invalid or non-matching id"}n[l[e]]=t;if(!f){f={}}f[e]=true;Ht()}function wt(e,t){n.splice(e,0,t);X(e);Ht()}function yt(e){n.push(e);X(n.length-1);Ht()}function $t(e){var t=l[e];if(t===undefined){throw"Invalid id"}delete l[e];n.splice(t,1);X(t);Ht()}function Pt(){return o}function Ct(){return o.length}function St(e){var t=o[e];if(t&&t.__group&&t.totals&&!t.totals.initialized){var r=x[t.level];if(!r.displayTotalsRow){jt(t.totals);t.title=r.formatter?r.formatter(t):t.value}}else if(t&&t.__groupTotals&&!t.initialized){jt(t)}return t}function xt(e){var r=o[e];if(r===undefined){return null}if(r.__group){return t.groupItemMetadataProvider.getGroupRowMetadata(r)}if(r.__groupTotals){return t.groupItemMetadataProvider.getTotalsRowMetadata(r)}return t.getItemMetadata&&t.getItemMetadata(r,e)||null}function Rt(e,t){if(e==null){for(var r=0;r<x.length;r++){I[r]={};x[r].collapsed=t}}else{I[e]={};x[e].collapsed=t}Ht()}function It(e){Rt(e,true)}function Tt(e){Rt(e,false)}function Ft(e){var t=e[0];if(e.length===1&&t.indexOf(T)!==-1){return{level:t.split(T).length-1,groupingKey:t}}else{return{level:e.length-1,groupingKey:e.join(T)}}}function bt(e,t){var r=Ft(e);I[r.level][r.groupingKey]=x[r.level].collapsed^t;Ht()}function At(e){var t=Array.prototype.slice.call(arguments);bt(t,true)}function Et(e){var t=Array.prototype.slice.call(arguments);bt(t,false)}function Nt(){return R}function Mt(t,r,i,a,n){var o=t[r];if(!o){o=new e.Group;o.value=r;o.level=i;o.groupingKey=(a?a.groupingKey+T:"")+r;n[n.length]=o;t[r]=o}return o}function kt(e,t){var r;var i;var a=[];var n={};var o;var l=t?t.level+1:0;var s=x[l];for(var u=0,f=s.predefinedValues.length;u<f;u++){i=s.predefinedValues[u];r=Mt(n,i,l,t,a)}for(var u=0,f=e.length;u<f;u++){o=e[u];i=s.getterIsAFn?s.getter(o):o[s.getter];r=Mt(n,i,l,t,a);r.rows[r.count++]=o}if(l<x.length-1){for(var u=0;u<a.length;u++){r=a[u];r.groups=kt(r.rows,r)}}a.sort(x[l].comparer);return a}function jt(e){var t=e.group;var r=x[t.level];var i=t.level==x.length;var a,n=r.aggregators.length;if(!i&&r.aggregateChildGroups){var o=t.groups.length;while(o--){if(!t.groups[o].totals.initialized){jt(t.groups[o].totals)}}}while(n--){a=r.aggregators[n];a.init();if(!i&&r.aggregateChildGroups){r.compiledAccumulators[n].call(a,t.groups)}else{r.compiledAccumulators[n].call(a,t.rows)}a.storeResult(e)}e.initialized=true}function Dt(t){var r=x[t.level];var i=new e.GroupTotals;i.group=t;t.totals=i;if(!r.lazyTotalsCalculation){jt(i)}}function Gt(e,t){t=t||0;var r=x[t];var i=r.collapsed;var a=I[t];var n=e.length,o;while(n--){o=e[n];if(o.collapsed&&!r.aggregateCollapsed){continue}if(o.groups){Gt(o.groups,t+1)}if(r.aggregators.length&&(r.aggregateEmpty||o.rows.length||o.groups&&o.groups.length)){Dt(o)}o.collapsed=i^a[o.groupingKey];o.title=r.formatter?r.formatter(o):o.value}}function Bt(e,t){t=t||0;var r=x[t];var i=[],a,n=0,o;for(var l=0,s=e.length;l<s;l++){o=e[l];i[n++]=o;if(!o.collapsed){a=o.groups?Bt(o.groups,t+1):o.rows;for(var u=0,f=a.length;u<f;u++){i[n++]=a[u]}}if(o.totals&&r.displayTotalsRow&&(!o.collapsed||r.aggregateCollapsed)){i[n++]=o.totals}}return i}function Ot(e){var t=/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/;var r=e.toString().match(t);return{params:r[1].split(","),body:r[2]}}function Vt(e){var t=Ot(e.accumulate);var r=new Function("_items","for (var "+t.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+t.params[0]+" = _items[_i]; "+t.body+"}");r.displayName=r.name="compiledAccumulatorLoop";return r}function zt(){var e=Ot(u);var t=e.body.replace(/return false\s*([;}]|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|$)/gi,"{ _retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2");var r=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");r=r.replace(/\$filter\$/gi,t);r=r.replace(/\$item\$/gi,e.params[0]);r=r.replace(/\$args\$/gi,e.params[1]);var i=new Function("_items,_args",r);i.displayName=i.name="compiledFilter";return i}function Lt(){var e=Ot(u);var t=e.body.replace(/return false\s*([;}]|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|$)/gi,"{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2");var r=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");r=r.replace(/\$filter\$/gi,t);r=r.replace(/\$item\$/gi,e.params[0]);r=r.replace(/\$args\$/gi,e.params[1]);var i=new Function("_items,_args,_cache",r);i.displayName=i.name="compiledFilterWithCaching";return i}function Qt(e,t){var r=[],i=0;for(var a=0,n=e.length;a<n;a++){if(u(e[a],t)){r[i++]=e[a]}}return r}function Kt(e,t,r){var i=[],a=0,n;for(var o=0,l=e.length;o<l;o++){n=e[o];if(r[o]){i[a++]=n}else if(u(n,t)){i[a++]=n;r[o]=true}}return i}function Jt(e){if(u){var r=t.inlineFilters?w:Qt;var i=t.inlineFilters?y:Kt;if(p.isFilterNarrowing){_=r(_,m)}else if(p.isFilterExpanding){_=i(e,m,P)}else if(!p.isFilterUnchanged){_=r(e,m)}}else{_=e.concat()}return{totalRows:_.length,rows:_}}function Ut(e,t){var r,i,n,o=[];var l=0,s=t.length;if(p&&p.ignoreDiffsBefore){l=Math.max(0,Math.min(t.length,p.ignoreDiffsBefore))}if(p&&p.ignoreDiffsAfter){s=Math.min(t.length,Math.max(0,p.ignoreDiffsAfter))}for(var u=l,g=e.length;u<s;u++){if(u>=g){o[o.length]=u}else{r=t[u];i=e[u];if(x.length&&(n=r.__nonDataRow||i.__nonDataRow)&&r.__group!==i.__group||r.__group&&!r.equals(i)||n&&(r.__groupTotals||i.__groupTotals)||r[a]!=i[a]||f&&f[r[a]]){o[o.length]=u}}}return o}function qt(e){s=null;if(p.isFilterNarrowing!=h.isFilterNarrowing||p.isFilterExpanding!=h.isFilterExpanding){P=[]}var t=Jt(e);b=t.totalRows;var r=t.rows;S.totals={};R=[];if(x.length){R=kt(r);if(R.length){Gt(R);r=Bt(R)}}var i=Ut(o,r);o=r;return i}function Ht(){if(g){return}var e=o.length;var t=b;var i=qt(n);f=null;h=p;p={};if(t!==b){N.notify(rt(),null,r)}if(e!==o.length){A.notify({previous:e,current:o.length,dataView:r},null,r)}if(i.length>0){E.notify({rows:i,dataView:r},null,r)}}function Wt(t,r,i){var a=this;var n;var o=a.mapRowsToIds(t.getSelectedRows());var l=new e.Event;function s(r){if(o.join(",")==r.join(",")){return}o=r;l.notify({grid:t,ids:o,dataView:a},new e.EventData,a)}function u(){if(o.length>0){n=true;var e=a.mapIdsToRows(o);if(!r){s(a.mapRowsToIds(e))}t.setSelectedRows(e);n=false}}t.onSelectedRowsChanged.subscribe(function(e,r){if(n){return}var l=a.mapRowsToIds(t.getSelectedRows());if(!i||!t.getOptions().multiSelect){s(l)}else{var u=$.grep(o,function(e){return a.getRowById(e)===undefined});s(u.concat(l))}});this.onRowsChanged.subscribe(u);this.onRowCountChanged.subscribe(u);return l}function Xt(e,t){var r;var i;n(e.getCellCssStyles(t));function n(e){r={};for(var t in e){var i=o[t][a];r[i]=e[t]}}function l(){if(r){i=true;vt();var a={};for(var n in r){var o=s[n];if(o!=undefined){a[o]=r[n]}}e.setCellCssStyles(t,a);i=false}}e.onCellCssStylesChanged.subscribe(function(e,r){if(i){return}if(t!=r.key){return}if(r.hash){n(r.hash)}});this.onRowsChanged.subscribe(l);this.onRowCountChanged.subscribe(l)}function Yt(e){if(J.onProcessData&&e)e=J.onProcessData(e,J)||e;k=null;M&&M.abort();M=false;if(!e){k=J.errormsg;N.notify(rt());return false}var t=e;e.TotalCount=e.TotalCount||0;e.Entities=e.Entities||[];if(!e.Skip||!J.rowsPerPage&&!e.Take)e.Page=1;else e.Page=Math.ceil(e.Skip/(e.Take||J.rowsPerPage))+1;F=e.Page;O=e.TotalCount;et(e.Entities);N.notify(rt())}function Zt(){if(j>0){D++;return}D=0;M&&M.abort();if(J.onSubmit){var e=J.onSubmit(J);if(e===false)return false}z.notify(this);if(!J.url)return false;if(!J.seekToPage)J.seekToPage=1;var t={};var r=(J.seekToPage-1)*J.rowsPerPage;if(r)t.Skip=r;if(J.rowsPerPage)t.Take=J.rowsPerPage;if(J.sortBy&&J.sortBy.length){if(typeof J.sortBy!=="string")t.Sort=J.sortBy;else{t.Sort=[J.sortBy]}}if(J.params){t=Q.extend(t,J.params)}var i=B;var a=this;var n={cache:false,type:J.method,contentType:G,url:J.url,data:t,dataType:i,success:function(e){M=false;if(e.Error)Q.notifyError(e.Error.Message||e.Error.Code);else Yt(e);L.notify(this)},error:function(e,t,r){M=false;if((e.getResponseHeader("content-type")||"").toLowerCase().indexOf("application/json")>=0){var i=$.parseJSON(e.responseText);if(i!=null&&i.Error!=null){Q.notifyError(i.Error.Message||i.Error.Code);N.notify(rt());L.notify(this);return}}k=e.errormsg;N.notify(rt());L.notify(this)},complete:function(){M=false}};if(J.onAjaxCall){var o=J.onAjaxCall(this,n);if(o===false){M=false;N.notify(rt());return false}}n.data=$.toJSON(n.data);N.notify(rt());M=$.ajax(n)}function er(){if(j==0)D=0;j++}function tr(){if(j>0){j--;if(j==0&&D>0)Zt()}}J={beginUpdate:U,endUpdate:q,setPagingOptions:tt,getPagingInfo:rt,getRows:Pt,getItems:Z,setItems:et,setFilter:ot,sort:it,fastSort:at,reSort:nt,setSummaryOptions:st,getGrandTotals:ut,setGrouping:ft,getGrouping:lt,collapseAllGroups:It,expandAllGroups:Tt,collapseGroup:At,expandGroup:Et,getGroups:Nt,getIdxById:ct,getRowById:dt,getItemById:pt,getItemByIdx:gt,mapRowsToIds:mt,mapIdsToRows:ht,setRefreshHints:H,setFilterArgs:W,refresh:Ht,updateItem:_t,insertItem:wt,addItem:yt,deleteItem:$t,syncGridSelection:Wt,syncGridCellCssStyles:Xt,getLength:Ct,getItem:St,getItemMetadata:xt,onRowCountChanged:A,onRowsChanged:E,onPagingInfoChanged:N,addData:Yt,populate:Zt,populateLock:er,populateUnlock:tr,onDataChanged:V,onDataLoaded:L,onDataLoading:z};a=t.idField||"id";G=t.contentType||"application/json";B=t.dataType||"json";u=t.filter||null;J.params=t.params||{};J.onSubmit=t.onSubmit||null;J.url=t.url||null;J.rowsPerPage=t.rowsPerPage||0;J.seekToPage=t.seekToPage||1;J.onAjaxCall=t.onAjaxCall||null;J.onProcessData=t.onProcessData||null;J.method=t.method||"POST";J.errormsg=J.errormsg||Q.text("Controls.Pager.DefaultLoadError");J.sortBy=typeof t.sortBy=="string"?[t.sortBy]:t.sortBy||[];J.idField=a;if(t.url&&t.autoLoad){Zt()}return J}return t}();e.RemoteView=t})(Slick||(Slick={}));